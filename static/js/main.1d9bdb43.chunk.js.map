{"version":3,"sources":["components/Navbar/NavbarItems/NavbarItems.module.css","common/Preloader.module.css","components/Durax/dialog-reducer.js","components/Friends/Friends.module.css","components/Profile/MyPosts/Post/Likes/Likes.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Dialogs/AvatarUser/AvatarUser.module.css","components/Header/SearchForm/Search.module.css","components/Login/Login.module.css","common/FormsControl/FormsControl.js","components/Users/Users.module.css","components/Profile/ProfInfo/ProfInfo.module.css","reportWebVitals.js","API/api.js","components/Durax/profile-reducer.js","components/Durax/navbar-reducer.js","utils/object-helper.js","components/Durax/users-reducer.js","components/Durax/auth-reducer.js","components/Durax/app-reducer.js","components/Durax/redux-store.js","components/Music/Music.jsx","components/Friends/Friends.jsx","components/Navbar/NavbarItems/NavbarItems.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Settings/Settings.jsx","components/Profile/MyPosts/Post/Likes/Likes.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","common/Preloader.jsx","components/Profile/ProfInfo/ProfileStatusWithHooks.js","components/Profile/ProfInfo/ProfileDataForm.jsx","components/Profile/ProfInfo/ProfileData.jsx","components/Profile/ProfInfo/ProfInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","common/Pagination.jsx","common/ToggleButton.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/Durax/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/SearchForm/Search.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/LoginForm.js","components/Login/Login.jsx","hoc/withSuspense.js","App.js","index.js","components/Navbar/Navbar.module.css","common/Pagination.module.css","components/validators/validators.js","hoc/WithAuthRedirect.js","components/Profile/MyPosts/MyPosts.module.css","common/FormsControl/FormsControl.module.css","components/Header/Header.module.css","components/Dialogs/AvatarUser/AvatarUser.jsx"],"names":["module","exports","SEND_MESSAGE","SET_TEXT","initialState","dialogUser","id","name","url","dialog","me","message","user","sendMessage","text","type","dialogReducer","state","action","userText","map","index","length","FormControl","typefield","input","meta","props","isError","touched","error","className","style","formControl","React","createElement","color","submitError","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","instance","axios","baseURL","withCredentials","headers","usersAPI","numPage","pageSize","get","response","data","post","delete","profileAPI","status","put","image","formData","FormData","append","profile","authorAPI","email","password","rememberMe","captcha","securityAPI","ADD_LIKE","ADD_POST","DELETE_POST","SET_PROFILE_USER","GET_USER_STATUS","SAVE_PHOTO_SUCSESS","posts","likes","liked","setStatus","getUserProfile","dispatch","a","alert","profileReducer","postText","filter","p","postId","photos","navbarLinks","users","news","music","settings","friends","navbarItems","Object","keys","this","key","toUpperCase","slice","navbarReducer","updateObjectInArray","items","objPropName","itemId","newObjProps","item","UN_FOLLOW","FOLLOW","SET_USERS","SET_USERS_COUNT","SET_CURRENT_PAGE","TOGGLE_IS_FATCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initState","allUsers","currentPage","isFetching","followingInProgress","unFollowSuccess","followSuccess","toggleIsFetching","fetching","followProgress","progress","followUnfollow","request","followState","resultCode","usersReducer","followed","count","page","SET_USER_DATA","IS_ERROR_REQUEST","GET_CAPTCHA_URL","userId","login","isAuth","captchaUrl","setAuthUserData","payload","incorrectLoginData","authMeThunk","catch","getCaptchaUrl","capthaUrl","authReducer","SET_INITIALIZED","initialized","appReducer","reducers","combineReducers","profilePage","dialogPage","navbarPage","usersPage","auth","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Music","Friends","blockFriend","NavbarItems","to","activeClassName","active_link","Navbar","navbarItem","urlKey","toLowerCase","nav","fr","News","Settings","Likes","likedStyle","currentPost","onClick","like","Post","block_post","src","alt","MyPosts","memo","blockPost","post_area","onSubmit","addPost","posText","addLike","PostForm","render","handleSubmit","validate","composeValidators","required","maxLengthInput","component","Preloader","styles","preloader","spinner","from","ProfileStatusWithHook","useState","editMode","setEditMode","editStatus","value","isOwner","useEffect","onDoubleClick","autoFocus","onBlur","setUserStatus","onChange","e","currentTarget","ProfileDataForm","initialValues","setEditModeData","saveProfile","setIsFetching","contacts","isLookingJob","setIsLookingJob","lookingJobHandler","result","messages","indexOf","index2","FORM_ERROR","values","errors","facebook","submitting","form","pristine","disabled","placeholder","checked","contact","Contact","trueContact","entries","social","link","marginLeft","href","target","ProfileData","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","ProfInfo","imageButton","setImageButton","editModeData","editCancelMode","large","descripBlock","onMouseEnter","setTimeout","onMouseLeave","test","updateImage","files","savePhoto","image_btn","node","Profile","ProfileContainer","refreshProfile","match","params","loggedUserId","getUserStatus","prevProps","PureComponent","ProfileContainerBlock","connect","file","getState","withRouter","withAuthRedirect","PaginationPage","activePage","setActivePage","activeClass","active","activeLinkClass","innerClass","paginationBlock","itemClass","li","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","pageNumber","getUsers","ToggleButton","some","followBtn","User","userBlock","avatar","AvatarUser","unFollow","follow","userInfo","Users","UserContainer","createSelector","u","clickPage","bind","size","getUsersThunkCreator","setCurrentPage","Component","UsersContainer","totalCount","Search","searchFormData","setSearchFormData","Header","header","logo","loginBlock","logout","HeaderSmallContainer","HeaderContainer","authMe","Login","title","suspenseWrap","fallback","DialogContainer","lazy","App","catchAllUnhundledErrors","event","console","log","usersContainer","profileContainerBlock","initializedApp","addEventListener","removeEventListener","navbar","exact","path","withSuspense","ReactDOM","StrictMode","document","getElementById","undefined","maxLength","validators","reduce","validator","mapStateToProps","RedirectComponent"],"mappings":"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","file":"static/js/main.1d9bdb43.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"NavbarItems_item__1ko-d\",\"active_link\":\"NavbarItems_active_link__12l8m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2MA0H\",\"spinner\":\"Preloader_spinner__28WRe\",\"spin\":\"Preloader_spin__2CIFl\"};","const SEND_MESSAGE = 'SEND_MESSAGE';\r\nconst SET_TEXT = 'SET_TEXT';\r\n\r\nlet initialState = {\r\n    dialogUser: [\r\n        {\r\n            id: 1,\r\n            name: 'Roman',\r\n            url: 'https://storage.jewheart.com/content/users/avatars/2920/avatar_2920_500.jpg?1558626096',\r\n\r\n            dialog: [\r\n\r\n                {\r\n                    me: 'guest',\r\n                    message: 'You are welcome',\r\n                    id: 1\r\n                },\r\n                {\r\n                    user: 'guest',\r\n                    message: 'Hello. Lorem ipsum dolor sit amet consectetur adipisicing elit. Aut id nisi suscipit dolore quas at debitis recusandae repudiandae amet eveniet!',\r\n                    id: 2\r\n                },\r\n                {\r\n                    me: 'guest',\r\n                    message: 'Hello.How are you?',\r\n                    id: 3\r\n                },\r\n                {\r\n                    user: 'guest',\r\n                    message: 'Thank you!I am okey Lorem ipsum dolor sit amet consectetur adipisicing elit.Aut id nisi suscipit dolore quas at debitis recusandae repudiandae amet eveniet! Thank you!I am okey Lorem ipsum dolor sit amet consectetur adipisicing elit.Aut id nisi suscipit dolore quas at debitis recusandae repudiandae amet eveniet!',\r\n                    id: 4\r\n                },\r\n                {\r\n                    me: 'guest',\r\n                    message: 'Very nice)',\r\n                    id: 5\r\n                },\r\n            ],\r\n\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Ivan',\r\n            url: 'https://bipbap.ru/wp-content/uploads/2017/05/VOLKI-krasivye-i-ochen-umnye-zhivotnye.jpg',\r\n            dialog: [\r\n                {\r\n                    user: 'guest',\r\n                    message: 'Goodnight honey',\r\n                    id: 1\r\n                },\r\n                {\r\n                    me: 'guest',\r\n                    message: 'Goodnight my dear',\r\n                    id: 2\r\n                },\r\n                {\r\n                    user: 'guest',\r\n                    message: 'I love you',\r\n                    id: 3\r\n                },\r\n                {\r\n                    me: 'guest',\r\n                    message: 'And I you too',\r\n                    id: 4\r\n                },\r\n                {\r\n                    me: 'guest',\r\n                    message: 'Buy buy',\r\n                    id: 5\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Stephan',\r\n            url: 'https://sun9-4.userapi.com/impf/c622525/v622525638/4af76/FHil73y11v0.jpg?size=600x260&quality=96&proxy=1&sign=f859b538c68a2e31968ba0601eba79c5&type=album',\r\n            dialog: [{\r\n                user: 'guest',\r\n                message: 'Hello, Ruslan',\r\n                id: 1\r\n            },\r\n            {\r\n                me: 'guest',\r\n                message: 'Hello user',\r\n                id: 2\r\n            },\r\n            {\r\n                me: 'guest',\r\n                message: 'ha ha',\r\n                id: 3\r\n            },]\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Ruslan',\r\n            url: 'https://ru.myanimeshelf.com/eva2/upload/ad52b485db1863be730c79fe65b3402c/%D1%84%D0%BC%D1%84%D0%B5%D1%84%D0%BA.jpg',\r\n            dialog: [{\r\n                user: 'guest',\r\n                message: 'lorem ipsum dolor',\r\n                id: 1\r\n            },\r\n            {\r\n                me: 'guest',\r\n                message: 'Can I help you?',\r\n                id: 2\r\n            },\r\n            {\r\n                me: 'guest',\r\n                message: 'No thank you',\r\n                id: 3\r\n            },]\r\n        },\r\n    ],\r\n};\r\n\r\nconst dialogReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_TEXT:\r\n            return {\r\n                ...state,\r\n                userText: action.text\r\n            }\r\n        case SEND_MESSAGE:\r\n            if (state.userText === '') return state;\r\n            return {\r\n                ...state,\r\n                dialogUser: state.dialogUser.map((user, index) => {\r\n                    if (index === action.id) {\r\n                        return {\r\n                            ...user,\r\n                            dialog: [...user.dialog, {\r\n                                me: 'host',\r\n                                message: action.text,\r\n                                id: user.dialog.length + 1\r\n                            }\r\n                            ]\r\n                        }\r\n                    }\r\n                    return user\r\n                })\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessage = (text, id) => ({ type: SEND_MESSAGE, text, id });\r\nexport default dialogReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"blockFriend\":\"Friends_blockFriend__1goBo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"like_blc\":\"Likes_like_blc__3VXVE\",\"active\":\"Likes_active__3Tn2k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block_post\":\"Post_block_post__sdo5L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"AvatarUser_avatar__3cj-e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Search_form__3Vr3U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Login_title__1GXTC\"};","import React from 'react';\r\nimport style from './FormsControl.module.css'\r\nconst FormControl = ({ typefield, input, meta, ...props }) => {\r\n\r\n    // meta.touched && meta.error;\r\n    const isError = meta.touched && meta.error;\r\n    // (meta.error || meta.submitFailed) && meta.touched;\r\n    // meta.touched && meta.error;\r\n    // const errorSubmit = meta.submitError;\r\n    // isError && console.log(props.name + meta);\r\n    return (\r\n        <div className={style.formControl + ' ' + (isError ? style.error : '')}>\r\n            { React.createElement(typefield,\r\n                { ...input, ...props }\r\n            )\r\n            }\r\n\r\n            { isError && <span className={style.color}>{meta.error || meta.submitError}</span>}\r\n\r\n        </div >\r\n\r\n    )\r\n}\r\nexport default FormControl","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userBlock\":\"Users_userBlock__3LZti\",\"avatar\":\"Users_avatar__18YPy\",\"userInfo\":\"Users_userInfo__BycZp\",\"followBtn\":\"Users_followBtn__2wtDQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"theme\":\"ProfInfo_theme__FC3N0\",\"descripBlock\":\"ProfInfo_descripBlock__1GEo9\",\"status\":\"ProfInfo_status__1cAZd\",\"test\":\"ProfInfo_test__sTW1Q\",\"image_btn\":\"ProfInfo_image_btn__3P5v7\",\"updateImage\":\"ProfInfo_updateImage__35J0l\",\"showButton\":\"ProfInfo_showButton__2EsI6\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '5d382d54-6433-44f9-b0eb-5712753c3007'\r\n    }\r\n}\r\n)\r\n\r\nexport const usersAPI = {\r\n\r\n    getUsers(numPage = 1, pageSize) {\r\n        return instance.get(`users?page=${numPage}&count=${pageSize}`).then(response => response.data);\r\n    },\r\n\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`, {},\r\n        ).then(response => response.data)\r\n    },\r\n    unFollow(id) {\r\n        return instance.delete(`follow/${id}`,\r\n        ).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getUser(id) {\r\n        return instance.get(`profile/${id}`).then(response => response.data)\r\n    },\r\n    getStatus(id) {\r\n        return instance.get('profile/status/' + id)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('profile/status', { status })\r\n    },\r\n    savePhoto(image) {\r\n        let formData = new FormData();\r\n        formData.append('image', image);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile) {\r\n\r\n        return instance.put('/profile', profile);\r\n    }\r\n}\r\n\r\nexport const authorAPI = {\r\n    authMe() {\r\n        return instance.get('auth/me').then(response => response.data);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post('auth/login', { email, password, rememberMe, captcha })\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get('security/get-captcha-url')\r\n    }\r\n}","import { profileAPI } from './../../API/api';\r\nconst ADD_LIKE = 'PROFILE_ADD_LIKE';\r\nconst ADD_POST = 'PROFILE_ADD_POST';\r\nconst DELETE_POST = 'PROFILE_DELETE_POST';\r\nconst SET_PROFILE_USER = 'PROFILE_SET_PROFILE_USER';\r\nconst GET_USER_STATUS = 'PROFILE_GET_USER_STATUS';\r\nconst SAVE_PHOTO_SUCSESS = 'SAVE_PHOTO_SUCSESS';\r\nlet initialState = {\r\n    user: {\r\n        // avatar: 'link',\r\n        // name: 'Roman',\r\n        // sureName: 'Bishko',\r\n        // birthday: '18, 08, 1986',\r\n        // age: 34,\r\n        // likedPosts: new Set()\r\n    },\r\n    posts: [\r\n        {\r\n            id: 1,\r\n            post: \"Hey, how are you?\",\r\n            likes: 8,\r\n            liked: false\r\n        },\r\n        {\r\n            id: 2,\r\n            post: \"Hello, friend!\",\r\n            likes: 15,\r\n            liked: false\r\n        },\r\n        {\r\n            id: 3,\r\n            post: \"Please at this link https://www.google.com.ua/?hl=uk\",\r\n            likes: 68,\r\n            liked: false\r\n        }\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GET_USER_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case ADD_LIKE:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.map(post => {\r\n                    if (post.id === action.post.id) {\r\n                        if (!action.post.liked) return {\r\n                            ...post,\r\n                            liked: true,\r\n                            likes: ++action.post.likes\r\n                        }\r\n                        else return {\r\n                            ...post,\r\n                            liked: false,\r\n                            likes: --action.post.likes\r\n                        }\r\n                    }\r\n                    else return post\r\n                })\r\n            }\r\n\r\n        case ADD_POST:\r\n            if (action.postText === '') return state;\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts,\r\n                {\r\n                    id: state.posts[state.posts.length - 1].id + 1,\r\n                    post: action.postText,\r\n                    likes: 0,\r\n                    liked: false\r\n                }\r\n                ]\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        case SET_PROFILE_USER:\r\n            return {\r\n                ...state,\r\n                profile: { ...state.profile, ...action.profile }\r\n            }\r\n        case SAVE_PHOTO_SUCSESS:\r\n            return {\r\n                ...state,\r\n\r\n                profile: { ...state.profile, photos: action.photos }\r\n            }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const setProfileUser = (profile) => ({ type: SET_PROFILE_USER, profile });\r\nexport const addPost = (postText) => ({ type: ADD_POST, postText });\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId });\r\nexport const addLike = (post) => ({ type: ADD_LIKE, post });\r\nexport const setStatus = (status) => ({ type: GET_USER_STATUS, status });\r\nexport const savePhotoSucsess = (photos) => ({ type: SAVE_PHOTO_SUCSESS, photos });\r\n\r\n\r\nexport const getUserProfile = (id) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let data = await profileAPI.getUser(id)\r\n            dispatch(setProfileUser(data));\r\n        }\r\n        catch (err) { alert(err) }\r\n    }\r\n\r\n}\r\n\r\nexport const savePhoto = (file) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let response = await profileAPI.savePhoto(file)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(savePhotoSucsess(response.data.data.photos));\r\n\r\n            }\r\n        }\r\n        catch (err) { alert(err + 'PHOTO') }\r\n    }\r\n}\r\n\r\nexport const getUserStatus = (id) => async (dispatch) => {\r\n    try {\r\n        let response = await profileAPI.getStatus(id);\r\n        dispatch(setStatus(response.data));\r\n    }\r\n    catch (err) { alert(err + 'Get Status') }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    let userId = getState().auth.userId\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId))\r\n        return response\r\n    }\r\n    return response\r\n}\r\n\r\nexport const setUserStatus = (status) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let response = await profileAPI.updateStatus(status)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setStatus(status))\r\n            }\r\n        }\r\n        catch (err) { alert(err + 'setUserStatus') }\r\n    }\r\n}\r\n\r\nexport default profileReducer;","let initialState = {\r\n    navbarLinks: {\r\n        profile: '/profile',\r\n        users: '/users',\r\n        message: '/dialogs',\r\n        news: '/news',\r\n        music: '/music',\r\n        settings: '/settings',\r\n        friends: '/friends'\r\n\r\n    },\r\n    navbarItems() {\r\n        let keys = [];\r\n        keys = Object.keys(this.navbarLinks);\r\n        let items = keys.map(key => key[0].toUpperCase() + key.slice(1));\r\n        return items;\r\n    }\r\n};\r\n\r\nconst navbarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\nexport default navbarReducer;","export const updateObjectInArray = (items, objPropName, itemId, newObjProps) => {\r\n  return items.map(item => {\r\n    if (item[objPropName] === itemId) {\r\n      return {\r\n        ...item,\r\n        ...newObjProps\r\n      }\r\n    }\r\n    return item\r\n  })\r\n}\r\n\r\n","import { updateObjectInArray } from '../../utils/object-helper';\r\nimport { usersAPI } from './../../API/api'\r\n\r\nconst UN_FOLLOW = 'USER_REDUCER_UN_FOLLOW';\r\nconst FOLLOW = 'USER_REDUCER_FOLLOW';\r\nconst SET_USERS = 'USER_REDUCER_SET_USERS';\r\nconst SET_USERS_COUNT = 'USER_REDUCER_SET_USERS_COUNT';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst TOGGLE_IS_FATCHING = 'USER_REDUCER_TOGGLE_IS_FATCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'USER_REDUCER_TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nlet initState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    allUsers: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, 'id', action.id, { followed: true })\r\n\r\n            }\r\n\r\n        case UN_FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, 'id', action.id, { followed: false })\r\n            }\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users, ...state.users]\r\n            }\r\n\r\n        case SET_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                allUsers: action.count\r\n            }\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.page\r\n            }\r\n\r\n        case TOGGLE_IS_FATCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.fetching\r\n            }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.progress ?\r\n                    [...state.followingInProgress, action.id] :\r\n                    state.followingInProgress.filter(id => id !== action.id)\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n// actions creators\r\nexport const setUserCount = (count) => ({ type: SET_USERS_COUNT, count })\r\nexport const unFollowSuccess = (id) => ({ type: UN_FOLLOW, id })\r\nexport const followSuccess = (id) => ({ type: FOLLOW, id })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (page) => ({ type: SET_CURRENT_PAGE, page })\r\nexport const toggleIsFetching = (fetching) => ({ type: TOGGLE_IS_FATCHING, fetching })\r\nexport const followProgress = (progress, id) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, progress, id })\r\n\r\n// thunk functions\r\nexport const getUsersThunkCreator = (page, size) => {\r\n\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        let data = await usersAPI.getUsers(page, size)\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setUserCount(data.totalCount));\r\n        dispatch(toggleIsFetching(false));\r\n    }\r\n}\r\n//......................................................................\r\nconst followUnfollow = async (dispatch, request, followState, id) => {\r\n    dispatch(followProgress(true, id));\r\n    let data = await request(id)\r\n    if (data.resultCode === 0) {\r\n        dispatch(followState(id));\r\n        dispatch(followProgress(false, id));\r\n    }\r\n}\r\n\r\nexport const unFollow = (id) => {\r\n    const unFollow = usersAPI.unFollow;\r\n    return (dispatch) => {\r\n        followUnfollow(dispatch, unFollow, unFollowSuccess, id)\r\n    }\r\n}\r\n\r\nexport const follow = (id) => {\r\n    const follow = usersAPI.follow;\r\n    return (dispatch) => {\r\n        followUnfollow(dispatch, follow, followSuccess, id)\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import { authorAPI, securityAPI } from './../../API/api'\r\n\r\nconst SET_USER_DATA = 'auth_reducer_SET_USER_DATA';\r\nconst IS_ERROR_REQUEST = 'auth_reducer_IS_ERROR_REQUEST';\r\nconst TOGGLE_IS_FATCHING = 'auth_reducer_TOGGLE_IS_FATCHING';\r\nconst GET_CAPTCHA_URL = 'auth_reducer_GET_CAPTCHA_URL';\r\nlet initState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isFetching: false,\r\n    error: {\r\n        isError: false,\r\n        message: ''\r\n    },\r\n    captchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case IS_ERROR_REQUEST:\r\n            return {\r\n                ...state,\r\n                error: action.error\r\n            }\r\n        case TOGGLE_IS_FATCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: !state.isFetching\r\n            }\r\n        case GET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.url\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const toggleIsFetching = (fetching) => ({ type: TOGGLE_IS_FATCHING, fetching })\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth } });\r\n\r\nconst incorrectLoginData = (isError, message) => ({ type: IS_ERROR_REQUEST, error: { isError, message } });\r\nconst setCaptchaUrl = (url) => ({ type: GET_CAPTCHA_URL, url });\r\n\r\n\r\n\r\nexport const authMeThunk = () => (dispatch) => {\r\n    return authorAPI.authMe().then(data => {\r\n        if (data.resultCode === 0) {\r\n            let { id, email, login } = data.data;\r\n            dispatch(setAuthUserData(id, email, login, true));\r\n            return data.data\r\n        }\r\n    }).catch(response => alert(response + 'from authMe'));\r\n}\r\n\r\n\r\nexport const login = (login, password, rememberMe, captcha) => (dispatch) => {\r\n    return authorAPI.login(login, password, rememberMe, captcha).then(response => {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(incorrectLoginData(false, ''));\r\n\r\n            dispatch(authMeThunk())\r\n        }\r\n        else {\r\n            if (response.data.resultCode === 10) {\r\n                dispatch(getCaptchaUrl());\r\n            }\r\n            dispatch(incorrectLoginData(true, response.data.messages[0]));\r\n        }\r\n\r\n    })\r\n}\r\nexport const logout = () => (dispatch) => {\r\n    authorAPI.logout().then(response => {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n    })\r\n}\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl()\r\n    const capthaUrl = response.data.url;\r\n    // debugger\r\n\r\n    dispatch(setCaptchaUrl(capthaUrl))\r\n}\r\n\r\nexport default authReducer;","import { authMeThunk } from './auth-reducer';\r\nimport { getUserStatus, getUserProfile } from './profile-reducer';\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n\r\n}\r\nexport const setInitializedSuccess = () => ({ type: SET_INITIALIZED });\r\n\r\nexport const initializedApp = () => (dispatch) => {\r\n    return dispatch(authMeThunk()).then(() => dispatch(setInitializedSuccess()))\r\n    // let userStatus = authMe.then((authMe) => { dispatch(getUserStatus()) })\r\n    // let profileUser = authMe.then((authMe) => { dispatch(getUserProfile()) })\r\n    // Promise.all([authMe]).then(() => dispatch(setInitializedSuccess()))\r\n}\r\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport profileReducer from './profile-reducer'\r\nimport dialogReducer from './dialog-reducer'\r\nimport navbarReducer from './navbar-reducer'\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport appReducer from './app-reducer';\r\n\r\nimport thunk from 'redux-thunk';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogPage: dialogReducer,\r\n    navbarPage: navbarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)\r\n));\r\n\r\nwindow.store = store;\r\nexport default store;","import React from 'react';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>Music</div>\r\n    )\r\n}\r\nexport default Music;","import React from 'react';\r\nimport style from './Friends.module.css'\r\nconst Friends = (props) => {\r\n    return (\r\n        <div className={style.blockFriend}>\r\n            Friends\r\n        </div>\r\n    );\r\n}\r\nexport default Friends;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport style from './NavbarItems.module.css'\r\n\r\nconst NavbarItems = (props) => {\r\n    return (\r\n        <div className={style.item}><NavLink to={props.url} activeClassName={style.active_link} id={props.id}>{props.item}</NavLink></div>\r\n    );\r\n}\r\nexport default NavbarItems;\r\n\r\n","import React from 'react';\r\nimport style from './Navbar.module.css'\r\nimport NavbarItems from './NavbarItems/NavbarItems';\r\n\r\nconst Navbar = (props) => {\r\n    // debugger\r\n    let items = props.items.navbarItems();\r\n\r\n    let navbarItem = items.map((item) => {\r\n        let urlKey = item[0].toLowerCase() + item.slice(1);\r\n        let url = props.items.navbarLinks[urlKey];\r\n        return <NavbarItems item={item} url={url} id={item} key={item} />\r\n    });\r\n\r\n    return (\r\n        < nav className={style.nav} >\r\n            {navbarItem}\r\n            <div className={style.fr}></div>\r\n            <div className={style.fr}></div>\r\n            <div className={style.fr}></div>\r\n\r\n        </nav >\r\n    );\r\n}\r\nexport default Navbar;\r\n\r\n","import React from 'react';\r\n\r\nconst News = (props) => {\r\n    // console.log(props);\r\n\r\n    return (\r\n        <div>News</div>\r\n    )\r\n}\r\nexport default News;","import React from 'react';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>Setting</div>\r\n    )\r\n}\r\nexport default Settings;","import React from 'react';\r\nimport style from './Likes.module.css';\r\nconst Likes = (props) => {\r\n    // debugger\r\n    let likedStyle = props.currentPost.liked ? 'active' : 'like_blc';\r\n\r\n    function like() {\r\n        props.like(props.currentPost);\r\n    }\r\n\r\n    return (\r\n        <div className={style[likedStyle]} onClick={like}>\r\n            like: {props.currentPost.likes}\r\n        </div>\r\n    )\r\n}\r\nexport default Likes;","import React from 'react';\r\nimport Likes from './Likes/Likes';\r\nimport style from './Post.module.css'\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={style.block_post} >\r\n            <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQVU_f47fabMc829_DSs8H4PVI-Q2TVEYehSw&usqp=CAU\" alt=\"\" />\r\n            <p>{props.message}</p>\r\n\r\n            <Likes like={props.like} currentPost={props.currentPost} />\r\n        </div>\r\n    )\r\n}\r\nexport default Post;","import React, { memo } from 'react';\r\nimport style from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { Form, Field } from 'react-final-form';\r\nimport FormControl from '../../../common/FormsControl/FormsControl';\r\nimport { composeValidators, required, maxLengthInput } from '../../validators/validators'\r\n\r\nconst MyPosts = React.memo((props) => {\r\n    let onSubmit = (formData) => {\r\n        props.addPost(formData.posText)\r\n        formData.posText = ''\r\n    }\r\n    return (\r\n\r\n        <div className={style.blockPost}>\r\n\r\n            <h4>My posts</h4>\r\n\r\n            <div className={style.post_area}>\r\n                <PostForm onSubmit={onSubmit} />\r\n            </div>\r\n            <div className={style.post}>\r\n                {props.posts.map((post) => <Post message={post.post} currentPost={post} like={props.addLike} key={post.id} />)}\r\n            </div>\r\n        </div >\r\n    )\r\n});\r\nconst PostForm = (props) => {\r\n\r\n    return (\r\n        <Form\r\n            onSubmit={props.onSubmit}\r\n            render={({ handleSubmit }) => (\r\n                <form onSubmit={handleSubmit} >\r\n                    <Field name='posText' validate={composeValidators(required, maxLengthInput(15))} typefield='textarea' component={FormControl} />\r\n                    <button>Add post</button>\r\n                </form>\r\n            )}\r\n        />\r\n    )\r\n}\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport styles from './Preloader.module.css';\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div className={styles.preloader}>\r\n            <div className={styles.spinner}>{props.from}</div>\r\n        </div>\r\n        /* <img src={prealoder}\r\n            width=\"40\"\r\n            style={{ position: 'absolute', top: 50 + '%', left: 50 + '%' }} /> */\r\n\r\n    )\r\n}\r\nexport default Preloader;","import React, { useEffect, useState } from 'react';\r\nimport style from './ProfInfo.module.css';\r\nconst ProfileStatusWithHook = (props) => {\r\n\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n  const editStatus = (value) => {\r\n    if (props.isOwner) {\r\n      setEditMode(value)\r\n    }\r\n  }\r\n\r\n  const onChange = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  }\r\n\r\n  const saveStatus = () => {\r\n    editStatus(false);\r\n    props.setUserStatus(status);\r\n  }\r\n\r\n  useEffect(() => { setStatus(props.status) }, [props.status]);\r\n\r\n  return (\r\n    <>\r\n      {!editMode &&\r\n        (<div onDoubleClick={() => editStatus(true)} className={style.status}>\r\n          <span >{props.status}</span>\r\n        </div>)\r\n      }\r\n      {editMode &&\r\n        (< div >\r\n          <input autoFocus={true} onBlur={saveStatus} type=\"text\" onChange={onChange} value={status} />\r\n        </div>)\r\n      }\r\n    </>\r\n\r\n  )\r\n\r\n}\r\nexport default ProfileStatusWithHook;","import React, { useState } from 'react';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { composeValidators, required, maxLengthInput } from './../../validators/validators'\r\nimport { FORM_ERROR } from 'final-form'\r\nimport FormControl from './../../../common/FormsControl/FormsControl'\r\nimport Preloader from '../../../common/Preloader';\r\n\r\nconst ProfileDataForm = (props) => {\r\n  let { initialValues, setEditModeData, isFetching, setIsFetching, saveProfile, contacts } = props;\r\n\r\n  let [isLookingJob, setIsLookingJob] = useState(false);\r\n\r\n  const lookingJobHandler = () => {\r\n    setIsLookingJob(value => !value);\r\n  }\r\n  const onSubmit = async (formData) => {\r\n    try {\r\n      // setIsFetching(true);\r\n      let result = await saveProfile(formData);\r\n\r\n\r\n      if (result.data.resultCode !== 0) {\r\n\r\n        let error = result.data.messages[0];\r\n        let index = error.indexOf('>') + 1;\r\n        let index2 = error.indexOf(')');\r\n        let key = error.slice(index, index2).toLowerCase();\r\n\r\n        // if (result.data.resultCode !== 0) {\r\n        // setIsFetching(false)\r\n        // let object = { contacts: { [key]: error } }\r\n        // let object = { [`contacts.${key}`]: error }\r\n        // console.log(object);\r\n        // return { object }\r\n        return { [FORM_ERROR]: error }\r\n\r\n        // }\r\n      }\r\n\r\n      // setIsFetching(false)\r\n      setEditModeData(false)\r\n\r\n    }\r\n    catch { return {} }\r\n  }\r\n  if (isFetching) return <Preloader />;\r\n  return (\r\n\r\n    <Form\r\n      onSubmit={onSubmit}\r\n      initialValues={initialValues}\r\n      validate={values => {\r\n        // console.log(values);\r\n        const errors = {};\r\n        if (!values.contacts.facebook) {\r\n          errors.contacts = { 'facebook': 'Required' }\r\n        }\r\n        return errors\r\n      }\r\n      }\r\n    >\r\n      {\r\n        ({\r\n          submitError,\r\n          handleSubmit,\r\n          form,\r\n          submitting,\r\n          pristine,\r\n          values\r\n        }) => (\r\n          <form name='profileForm' onSubmit={handleSubmit}>\r\n            <button type=\"submit\" disabled={submitting}> Save</button>\r\n            {submitError && <div style={{ 'color': 'red' }}>{submitError}</div>}\r\n\r\n            <div key={'aboutMe'}>\r\n              <b> About me:</b> <Field validate={maxLengthInput(50)} type=\"text\" name='aboutMe' placeholder='About me' typefield='textarea' render={FormControl} />\r\n            </div>\r\n            <div key={'fullName'}>\r\n              <b> FullName:</b> <Field validate={composeValidators(required, maxLengthInput(30))} type=\"text\" name='fullName' placeholder='fullName' typefield='input' render={FormControl} />\r\n            </div>\r\n            <div key={'lookingForAJob'}>\r\n              <b> lookingForAJob:</b> <Field type=\"checkbox\" name='lookingForAJob' placeholder='lookingForAJob' typefield='input' render={FormControl} checked={isLookingJob} onClick={lookingJobHandler} />\r\n            </div>\r\n            {isLookingJob &&\r\n              <div key={'lookingForAJobDescription'}>\r\n                <b> My professional skills:</b><Field validate={composeValidators(required, maxLengthInput(30))} type=\"text\" name='lookingForAJobDescription' placeholder='lookingForAJobDescription' typefield='textarea' render={FormControl} />\r\n              </div>}\r\n\r\n            <div key={'contacts'}>\r\n              <b> Contacts:</b> {\r\n                Object.keys(contacts).map((contact) => {\r\n                  return (<div key={contact}><b>{contact}</b>:\r\n                    <Field name={`contacts.${contact}`}>\r\n                      {({ input, meta }) => (\r\n                        <div>\r\n                          <input {...input} type=\"text\" placeholder={contact} />\r\n                          {(meta.error || meta.submitError) && meta.touched && (\r\n                            <span>{meta.error || meta.submitError}</span>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </Field>\r\n                    {/* {submitError && <div>{submitError}</div>} */}\r\n\r\n\r\n                  </div>)\r\n                })}\r\n            </div>\r\n\r\n          </form>)\r\n      }\r\n    </Form >\r\n  )\r\n}\r\n\r\n{/* <Field validate={maxLengthInput(30)} type=\"text\" name={`contacts.${contact}`} placeholder={contact} typefield='input' render={FormControl} ></Field> */ }\r\n\r\n\r\n{/* <Field name={`contacts.${contact}`}>\r\n  {({ input, meta }) => (\r\n    <div>\r\n      <label>{contact}</label>\r\n      <input {...input} type=\"text\" placeholder={contact} />\r\n      {(meta.error || meta.submitError) && meta.touched && (\r\n        <span>{meta.error || meta.submitError}</span>\r\n      )}\r\n    </div>\r\n  )}\r\n</Field> */}\r\n\r\nexport default ProfileDataForm;","import React from 'react';\r\n\r\n\r\nconst ProfileData = (props) => {\r\n  const profile = props.profile;\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <b> FullName:</b> {profile.fullName ? profile.fullName : 'no name'}\r\n      </div>\r\n      <div>\r\n        <b> About me:</b> {profile.aboutMe ? profile.aboutMe : null}\r\n      </div>\r\n      <div>\r\n        <b> Looking for a job:</b>{profile.lookingForAJob ? ' yes' : ' no'}\r\n      </div>\r\n      {profile.lookingForAJob &&\r\n        <div>\r\n          <b> My professional skills: </b>{profile.lookingForAJobDescription ? profile.lookingForAJobDescription : null}\r\n        </div>\r\n      }\r\n\r\n      <div>\r\n        <b> Contacts:</b>  <Contact contacts={profile.contacts} />\r\n      </div>\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Contact = (props) => {\r\n  let contacts = Object.entries(props.contacts);\r\n  let trueContact = contacts.map(contact => {\r\n    let [social, link] = contact;\r\n    return link ? < div style={{ marginLeft: '20px' }\r\n    } key={social} > <span><b>{social + ': '}</b></span><a href={link} target=\"_blank\">{link}</a></div > : null;\r\n  });\r\n  return (\r\n    <>{trueContact}</>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default ProfileData;","import React, { useState } from 'react';\r\nimport Preloader from '../../../common/Preloader';\r\nimport ProfileStatusWithHook from './ProfileStatusWithHooks';\r\nimport style from './ProfInfo.module.css';\r\nimport ProfileDataForm from './ProfileDataForm';\r\nimport ProfileData from './ProfileData';\r\n\r\nconst ProfInfo = (props) => {\r\n    let [imageButton, setImageButton] = useState(false);\r\n    let [editModeData, setEditModeData] = useState(false);\r\n    let [isFetching, setIsFetching] = useState(false);\r\n    let editCancelMode = editModeData ? 'Cancel' : 'Edit'\r\n\r\n    if (!props.profile) return < Preloader from='ProfInfo' />\r\n    let url = props.profile.photos.large || 'https://storage.jewheart.com/content/users/avatars/2920/avatar_2920_500.jpg?1558626096';\r\n\r\n    let { setUserStatus, status } = props;\r\n\r\n    const onMainPhotoSelect = (e) => {\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const showImageButton = (e) => {\r\n        setTimeout(() => { setImageButton(true) }, 0)\r\n    }\r\n\r\n    const hideImageButton = (e) => {\r\n        setTimeout(() => { setImageButton(false) }, 0)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className={style.descripBlock}>\r\n                <div onMouseEnter={showImageButton}\r\n                    onMouseLeave={hideImageButton}\r\n                    className={style.test}>\r\n                    <img\r\n                        src={url} alt=\"avatar\" />\r\n                    {props.isOwner && imageButton ? <label className={style.updateImage}><input type={'file'} onChange={onMainPhotoSelect} className={style.image_btn} />Upload</label> : null}\r\n                </div>\r\n                <ProfileStatusWithHook setUserStatus={setUserStatus} status={status} isOwner={props.isOwner} />\r\n                <div>\r\n                    {props.isOwner && <button onClick={() => { setEditModeData(node => !node) }}>{editCancelMode}</button>}\r\n                    {editModeData ? <ProfileDataForm initialValues={props.profile}\r\n                        contacts={props.profile.contacts} isFetching={isFetching} saveProfile={props.saveProfile} setEditModeData={setEditModeData} setIsFetching={setIsFetching} /> :\r\n                        <ProfileData profile={props.profile} />\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default ProfInfo;","import React from 'react';\r\nimport MyPosts from './MyPosts/MyPosts';\r\nimport ProfInfo from './ProfInfo/ProfInfo';\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div>\r\n\r\n            <ProfInfo profile={props.profile} setUserStatus={props.setUserStatus} status={props.status} isOwner={props.isOwner} savePhoto={props.savePhoto} saveProfile={props.saveProfile} />\r\n\r\n            <MyPosts addLike={props.addLike}\r\n                addPost={props.addPost}\r\n                posts={props.posts}\r\n            />\r\n        </div>\r\n    );\r\n}\r\nexport default Profile;","import React, { PureComponent } from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { addLike, addPost, getUserProfile, getUserStatus, setUserStatus, savePhoto, saveProfile } from '../Durax/profile-reducer';\r\nimport { withRouter } from 'react-router';\r\nimport { withAuthRedirect } from './../../hoc/WithAuthRedirect'\r\nimport { compose } from 'redux';\r\nimport { render } from '@testing-library/react';\r\n\r\nclass ProfileContainer extends PureComponent {\r\n    refreshProfile = () => {\r\n        let userId = +this.props.match.params.userId;\r\n\r\n        if (!userId) {\r\n            userId = this.props.loggedUserId;\r\n        }\r\n        if (!this.props.profile || this.props.profile.userId !== userId) {\r\n            this.props.getUserProfile(userId);\r\n            this.props.getUserStatus(userId);\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (+this.props.match.params.userId !== prevProps.match.params.userId) { this.refreshProfile() }\r\n\r\n    }\r\n    render() {\r\n        return (<Profile\r\n            isOwner={!this.props.match.params.userId}\r\n            savePhoto={this.props.savePhoto}\r\n            profile={this.props.profile}\r\n            setUserStatus={this.props.setUserStatus}\r\n            status={this.props.status}\r\n            addLike={this.props.addLike}\r\n            addPost={this.props.addPost}\r\n            posts={this.props.posts}\r\n            saveProfile={this.props.saveProfile} />)\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        loggedUserId: state.auth.userId,\r\n    }\r\n}\r\nconst ProfileContainerBlock = compose(connect(mapStateToProps, { addPost, addLike, getUserProfile, getUserStatus, setUserStatus, savePhoto, saveProfile }), withRouter, withAuthRedirect)(ProfileContainer)\r\n\r\nexport default ProfileContainerBlock;","import React, { useState } from 'react';\r\nimport Pagination from \"react-js-pagination\";\r\nimport style from './Pagination.module.css'\r\n\r\nexport const Page = (props) => {\r\n    // debugger\r\n    let curPage = props.currentPage === props.page ? 'red' : 'grey';\r\n    return <span style={{ marginLeft: 5 + 'px', color: curPage }} id={props.page} onClick={props.click}>{props.page}</span>\r\n}\r\n\r\nconst PaginationPage = (props) => {\r\n\r\n    const [activePage, setActivePage] = useState(1);\r\n\r\n    const handlePageChange = (pageNumber) => {\r\n        setActivePage(pageNumber);\r\n        props.getUsers(pageNumber, 5);\r\n    }\r\n    return (\r\n        <div>\r\n            <Pagination activeClass={style.active}\r\n                activeLinkClass={style.active}\r\n                innerClass={style.paginationBlock}\r\n                itemClass={style.li}\r\n                activePage={activePage}\r\n                itemsCountPerPage={10}\r\n                totalItemsCount={props.allUsers}\r\n                pageRangeDisplayed={15}\r\n                onChange={handlePageChange}\r\n            />\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default PaginationPage;","import React from 'react';\r\nimport style from './../components/Users/Users.module.css';\r\n\r\nconst ToggleButton = ({ followingInProgress, userId, value, ...props }) => {\r\n  return (<>\r\n    <button disabled={followingInProgress.some(id => id === userId)} onClick={() => { props.followUnfollow(userId) }}\r\n      className={style.followBtn}>{value}</button>\r\n  </>\r\n  )\r\n\r\n}\r\n\r\nexport default ToggleButton;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport ToggleButton from '../../common/ToggleButton';\r\nimport AvatarUser from '../Dialogs/AvatarUser/AvatarUser';\r\nimport style from './Users.module.css';\r\n\r\nconst User = ({ user, ...props }) => {\r\n  return (\r\n    <div className={style.userBlock} >\r\n      <div className={style.avatar}>\r\n        <NavLink to={`profile/${user.id}`}>\r\n          <AvatarUser url={user.photos.large || 'https://st2.depositphotos.com/2703645/5669/v/950/depositphotos_56695985-stock-illustration-male-avatar.jpg'} />\r\n        </NavLink>\r\n        {user.followed ?\r\n\r\n          <ToggleButton followingInProgress={props.followingInProgress}\r\n            followUnfollow={props.unFollow} userId={user.id} value='Unfollow'\r\n          />\r\n          :\r\n          <ToggleButton followingInProgress={props.followingInProgress}\r\n            followUnfollow={props.follow} userId={user.id} value='Follow'\r\n          />\r\n\r\n        }\r\n\r\n      </div>\r\n      <div className={style.userInfo}>\r\n        <div>\r\n          <h3>{user.name}</h3>\r\n          <p>{user.status || null}\r\n            {user.id}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default User;","import React, { Fragment } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport AvatarUser from '../Dialogs/AvatarUser/AvatarUser';\r\nimport style from './Users.module.css';\r\nimport User from './User'\r\n\r\nconst Users = (props) => {\r\n\r\n    return (props.users.map((user) => {\r\n\r\n        return (\r\n            <User user={user}\r\n                {...props} key={user.id} />\r\n        )\r\n    }))\r\n}\r\n\r\nexport default Users;","import { createSelector } from 'reselect';\r\nexport const getUsers = (state) => {\r\n  return state.usersPage.users\r\n}\r\nexport const followingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n}\r\n\r\nconst getUsersReselect = createSelector(getUsers, (users) => (\r\n\r\n  users.filter(u => true)\r\n)\r\n)","import React from 'react';\r\nimport {\r\n    follow, unFollow, setCurrentPage, getUsersThunkCreator\r\n} from './../Durax/users-reducer'\r\nimport { connect } from 'react-redux';\r\nimport Paginator from '../../common/PaginatorNew';\r\nimport Users from './Users';\r\nimport Preloader from '../../common/Preloader';\r\nimport { withAuthRedirect } from './../../hoc/WithAuthRedirect'\r\nimport { compose } from 'redux';\r\nimport { getUsers, followingInProgress } from './../Durax/users-selectors'\r\nimport PaginationPage from '../../common/Pagination';\r\n\r\nclass UserContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.clickPage = this.clickPage.bind(this)\r\n        //     this.usersPages = this.usersPages.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        let size = this.props.pageSize;\r\n        if (this.props.users.length === 0) {\r\n            this.props.getUsersThunkCreator(1, size);\r\n        }\r\n    }\r\n\r\n    clickPage(e) {\r\n        let page = +e.target.id;\r\n        let size = this.props.pageSize;\r\n        this.props.getUsersThunkCreator(page, size);\r\n        this.props.setCurrentPage(page);\r\n    }\r\n\r\n    render() {\r\n        return (<>\r\n            {this.props.isFetching ? <Preloader from='user' /> : null}\r\n            {/* <Paginator totalItemCount={100} pageSize={this.props.pageSize} currentPage={this.props.currentPage\r\n            } portionSize={10} onPageChange={this.clickPage} /> */}\r\n\r\n            <PaginationPage allUsers={this.props.allUsers} getUsers={this.props.getUsersThunkCreator} />\r\n\r\n            {/* list  pages of users */}\r\n            < Users\r\n                followingInProgress={this.props.followingInProgress}\r\n                users={this.props.users}\r\n                unFollow={this.props.unFollow}\r\n                follow={this.props.follow}\r\n            />\r\n        </>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        allUsers: state.usersPage.allUsers,\r\n\r\n        pageSize: state.usersPage.pageSize,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: followingInProgress(state)\r\n    }\r\n}\r\n\r\nconst UsersContainer = compose(\r\n    connect(mapStateToProps,\r\n        {\r\n            follow, unFollow,\r\n            setCurrentPage,\r\n            getUsersThunkCreator\r\n        }), withAuthRedirect)\r\n    (UserContainer)\r\n\r\nexport default UsersContainer\r\n","import React, { useState } from 'react';\r\nimport style from './Search.module.css';\r\n\r\nconst Search = () => {\r\n    let [searchFormData, setSearchFormData] = useState('')\r\n    const search = (e) => {\r\n        let value = e.target.value\r\n        setSearchFormData(value)\r\n    }\r\n    return (<>\r\n        <form action=\"\">\r\n            <input name=\"search\" className={style.form} type=\"text\" placeholder=\"Search\" onChange={search} value={searchFormData} />\r\n\r\n        </form>\r\n\r\n    </>\r\n    )\r\n}\r\nexport default Search;","import React from 'react';\r\nimport Search from './SearchForm/Search';\r\nimport style from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nconst Header = (props) => {\r\n    return <header className={style.header}>\r\n        <h1 className={style.logo}>Note Face</h1>\r\n        <Search />\r\n        <div className={style.loginBlock}>\r\n            {props.isAuth ? <div>{props.login}-<button onClick={props.logout}>Logout</button></div> : <NavLink to={'/login'}>Login</NavLink>}\r\n\r\n        </div>\r\n    </header>;\r\n}\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { authMeThunk, logout } from './../Durax/auth-reducer';\r\n\r\nclass HeaderSmallContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        login: state.auth.login,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\nconst HeaderContainer = connect(mapStateToProps, { authMeThunk, logout })(HeaderSmallContainer);\r\nexport default HeaderContainer;","import React from 'react';\r\nimport { login } from '../Durax/auth-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { composeValidators, required, maxLengthInput } from '../validators/validators'\r\nimport FormControl from '../../common/FormsControl/FormsControl';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { Redirect } from 'react-router';\r\nimport { toggleIsFetching } from '../Durax/auth-reducer'\r\nimport Preloader from '../../common/Preloader';\r\n\r\nconst LoginForm = (props) => {\r\n    if (props.authMe) return <Redirect to={'/profile'} />\r\n    let { isFetching, toggleIsFetching, captchaUrl } = props\r\n    if (isFetching) return <Preloader />\r\n    let { isError, message } = props.error\r\n\r\n    return (\r\n\r\n        <Form\r\n            onSubmit={formData => {\r\n                toggleIsFetching();\r\n                let { login, password, rememberMe, captcha } = formData;\r\n                props.login(login, password, rememberMe, captcha).then(() => toggleIsFetching())\r\n\r\n            }}>\r\n            {({ handleSubmit }) => (\r\n                <form onSubmit={handleSubmit}>\r\n                    <div>\r\n                        <Field validate={composeValidators(required, maxLengthInput(30))} type=\"text\" name='login' placeholder='Login' typefield='input' render={FormControl} />\r\n\r\n                    </div>\r\n                    <div>\r\n                        <Field validate={composeValidators(required, maxLengthInput(30))} type=\"password\" name='password' placeholder='Password' typefield='input' render={FormControl} />\r\n                        <div>\r\n                            <Field type='checkbox' name='rememberMe' typefield='input' render={FormControl} /> remember me\r\n                        </div>\r\n                    </div>\r\n                    {captchaUrl && <img src={captchaUrl} alt='captcha' />}\r\n\r\n                    {captchaUrl && <Field validate={composeValidators(required, maxLengthInput(30))} type=\"text\" name='captcha' placeholder='Enter sumbols' typefield='input' render={FormControl} />}\r\n                    <div>\r\n                        <button>Login</button>\r\n                        {isError && <span>{message}</span>}\r\n                    </div>\r\n                </form>\r\n\r\n            )}\r\n\r\n        </Form>\r\n\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        captchaUrl: state.auth.captchaUrl,\r\n        authMe: state.auth.isAuth,\r\n        error: state.auth.error,\r\n        isFetching: state.auth.isFetching\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { login, toggleIsFetching })(LoginForm);\r\n\r\n","import React from 'react';\r\nimport style from './Login.module.css';\r\nimport LoginForm from './LoginForm';\r\n\r\nconst Login = (props) => {\r\n    return (\r\n        <div>\r\n            <h1 className={style.title}>Login</h1>\r\n            <LoginForm />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React, { Suspense } from 'react';\r\nimport Preloader from './../common/Preloader'\r\nconst suspenseWrap = (Component) => {\r\n  return (props) => {\r\n    return <Suspense fallback={<Preloader from='HOC' />}>\r\n      <Component {...props} />\r\n    </Suspense>\r\n  }\r\n}\r\nexport default suspenseWrap;","import React from 'react';\nimport Music from './components/Music/Music';\nimport Friends from './components/Friends/Friends';\nimport Navbar from './components/Navbar/Navbar.jsx';\nimport News from './components/News/News';\nimport Settings from './components/Settings/Settings';\nimport ProfileContainerBlock from './components/Profile/ProfileContainer';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport Preloader from './common/Preloader';\nimport withSuspense from './hoc/withSuspense'\nimport { Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { initializedApp } from './components/Durax/app-reducer';\nimport { compose } from 'redux';\nimport { Redirect, Switch, withRouter } from 'react-router';\nimport './App.css';\nconst DialogContainer = React.lazy(() => import('./components/Dialogs/DialogContainer'));\n\nclass App extends React.Component {\n  catchAllUnhundledErrors = (event) => {\n    alert('Some error occured');\n    console.log(event);\n  }\n  componentDidMount() {\n    this.props.initializedApp();\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhundledErrors);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"unhandledrejection\", this.catchAllUnhundledErrors);\n\n  }\n  usersContainer = () => <UsersContainer />\n  profileContainerBlock = () => <ProfileContainerBlock />\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader from={'AppComponent'} />\n    }\n\n    return (\n\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar items={this.props.navbar} />\n        <div className=\"app-wrapper-content\">\n          <Switch>\n            <Route exact path=\"/\">\n              <Redirect to=\"/profile\" />\n            </Route>\n            <Route exact path='/profile/:userId?' render={this.profileContainerBlock} />\n            <Route path='/dialogs/:userId?' render={withSuspense(DialogContainer)} />\n            <Route path='/news' render={News} />\n            <Route path='/music' render={Music} />\n            <Route path='/settings' render={Settings} />\n            <Route path='/friends' render={Friends} />\n            <Route path='/users' render={this.usersContainer} />\n            <Route path='/login' render={Login} />\n            <Route path='*' render={() => <div>404 PAGE NOT FOUND</div>} />\n          </Switch>\n        </div>\n      </div>\n\n    )\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized,\n  }\n}\n\nexport default compose(connect(mapStateToProps, { initializedApp }), withRouter)(App)\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport store from './components/Durax/redux-store';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter >\n            <Provider store={store}>\n                <App navbar={store.getState().navbarPage} />\n            </Provider>\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3c_MF\",\"item\":\"Navbar_item__25rnZ\",\"active_link\":\"Navbar_active_link__34v5X\",\"fr\":\"Navbar_fr__1aLkl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"li\":\"Pagination_li__2TMoV\",\"active\":\"Pagination_active__1reQW\",\"paginationBlock\":\"Pagination_paginationBlock__myyYO\"};","export const required = value => (value ? undefined : 'Required');\r\nexport const maxLengthInput = maxLength => value => (\r\n    value && value.length > maxLength ? `Max length is ${maxLength} symbols` : undefined\r\n)\r\nexport const composeValidators = (...validators) => value =>\r\n    validators.reduce((error, validator) => error || validator(value), undefined);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        authMe: state.auth.isAuth\r\n    }\r\n}\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.authMe) return <Redirect to='/login' />\r\n            return <Component{...this.props} />\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToProps, {})(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post_area\":\"MyPosts_post_area__3etA_\",\"post\":\"MyPosts_post__1kHsr\",\"blockPost\":\"MyPosts_blockPost__37chQ\",\"addPost\":\"MyPosts_addPost__2DFxt\",\"textarea\":\"MyPosts_textarea__2tq8g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__15b7K\",\"error\":\"FormsControl_error__2BuRw\",\"color\":\"FormsControl_color__1QqEq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1TNvs\",\"logo\":\"Header_logo__rXwVX\",\"loginBlock\":\"Header_loginBlock__39MmL\"};","import React from 'react';\r\nimport style from './AvatarUser.module.css';\r\n\r\nconst AvatarUser = (props) => {\r\n\r\n    return (\r\n        <div className={style.avatar}>\r\n            <img src={props.url} alt=\"\" />\r\n        </div>\r\n    );\r\n}\r\nexport default AvatarUser;"],"sourceRoot":""}