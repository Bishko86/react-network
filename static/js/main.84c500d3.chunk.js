(this["webpackJsonpreact-app1"]=this["webpackJsonpreact-app1"]||[]).push([[0],{10:function(e,t,r){"use strict";var n=r(0),s=r(2),a=r(28),o=r(1),c=r.n(o),i=r(53),u=r.n(i),l=r(73),d=r.n(l).a.bind(u.a);t.a=function(e){var t=e.typefield,r=e.input,o=e.meta,i=Object(a.a)(e,["typefield","input","meta"]),l=o.touched&&o.error,p=d({formControl:!0,error:!!l});return Object(n.jsxs)(n.Fragment,{children:[c.a.createElement(t,Object(s.a)(Object(s.a)({className:p},r),i)),l&&Object(n.jsx)("span",{className:u.a.color,children:o.error||o.submitError})]})}},109:function(e,t,r){},110:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r(1),a=r.n(s),o=r(37),c=r.n(o),i=(r(81),function(e){e&&e instanceof Function&&r.e(4).then(r.bind(null,115)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;r(e),n(e),s(e),a(e),o(e)}))}),u=r(12),l=r(5),d=r.n(l),p=r(14),j=r(24),b=r(2),f=r(69).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"5d382d54-6433-44f9-b0eb-5712753c3007"}}),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return f.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},O=function(e){return f.post("follow/".concat(e),{}).then((function(e){return e.data}))},m=function(e){return f.delete("follow/".concat(e)).then((function(e){return e.data}))},g=function(e){return f.get("profile/".concat(e)).then((function(e){return e.data}))},v=function(e){return f.get("profile/status/"+e)},x=function(e){return f.put("profile/status",{status:e})},_=function(e){var t=new FormData;return t.append("image",e),f.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},k=function(e){return f.put("/profile",e)},y=function(){return f.get("auth/me").then((function(e){return e.data}))},P=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return f.post("auth/login",{email:e,password:t,rememberMe:r,captcha:n})},w=function(){return f.delete("auth/login")},E=function(){return f.get("security/get-captcha-url")},S="Profile_Reducer_PROFILE_ADD_LIKE",C="Profile_Reducer_PROFILE_ADD_POST",I="Profile_Reducer_PROFILE_DELETE_POST",U="Profile_Reducer_PROFILE_SET_PROFILE_USER",F="Profile_Reducer_PROFILE_GET_USER_STATUS",N="Profile_Reducer_SAVE_PHOTO_SUCSESS",L="Profile_Reducer_SET_ERROR_DATA",R="Profile_Reducer_CLOSE_ERROR_MODAL_WINDOW",T={posts:[{id:1,post:"Hey, how are you?",likes:8,liked:!1,date:"18.08.2020"},{id:2,post:"Hello, friend!",likes:15,liked:!1,date:"18.08.2020"},{id:3,post:"Please at this link https://www.google.com.ua/?hl=uk",likes:68,liked:!1,date:"28.08.2020"}],profile:null,status:"",error:!1},A=function(e){return{type:F,status:e}},D=function(e,t){return{type:L,payload:{error:e,request:t}}},M=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g(e);case 3:n=t.sent,r({type:U,profile:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(D(t.t0,"User Profile"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(b.a)(Object(b.a)({},e),{},{status:t.status});case S:return Object(b.a)(Object(b.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.id?t.liked?Object(b.a)(Object(b.a)({},e),{},{liked:!1,likes:--t.likes}):Object(b.a)(Object(b.a)({},e),{},{liked:!0,likes:++t.likes}):e}))});case C:return""===t.postText?e:Object(b.a)(Object(b.a)({},e),{},{posts:[].concat(Object(j.a)(e.posts),[{id:e.posts.length>0?e.posts[e.posts.length-1].id+1:1,post:t.postText,likes:0,liked:!1,date:(new Date).toLocaleDateString()}])});case I:return Object(b.a)(Object(b.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case U:return Object(b.a)(Object(b.a)({},e),{},{profile:Object(b.a)(Object(b.a)({},e.profile),t.profile)});case N:return Object(b.a)(Object(b.a)({},e),{},{profile:Object(b.a)(Object(b.a)({},e.profile),{},{photos:t.photos}),error:!1});case L:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});case R:return Object(b.a)(Object(b.a)({},e),{},{error:!1});default:return e}},H=r(65),G={navbarLinks:{profile:"/profile",users:"/users",message:"/dialogs",news:"/news",music:"/music",settings:"/settings",friends:"/friends"},navbarItems:function(){return Object.keys(this.navbarLinks).map((function(e){return e[0].toUpperCase()+e.slice(1)}))}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return e},J=function(e,t,r,n){return e.map((function(e){return e[t]===r?Object(b.a)(Object(b.a)({},e),n):e}))},W="USER_REDUCER_UN_FOLLOW",q="USER_REDUCER_FOLLOW",V="USER_REDUCER_SET_USERS",X="USER_REDUCER_SET_USERS_COUNT",Q="SET_CURRENT_PAGE",Z="USER_REDUCER_TOGGLE_IS_FATCHING",K="USER_REDUCER_TOGGLE_IS_FOLLOWING_PROGRESS",Y={users:[],pageSize:5,allUsers:0,currentPage:1,isFetching:!1,followingInProgress:[]},$=function(e){return{type:W,id:e}},ee=function(e){return{type:q,id:e}},te=function(e){return{type:Z,fetching:e}},re=function(e,t){return{type:K,progress:e,id:t}},ne=function(){var e=Object(p.a)(d.a.mark((function e(t,r,n,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(re(!0,s)),e.next=3,r(s);case 3:0===e.sent.resultCode&&(t(n(s)),t(re(!1,s)));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,s){return e.apply(this,arguments)}}(),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(b.a)(Object(b.a)({},e),{},{users:J(e.users,"id",t.id,{followed:!0})});case W:return Object(b.a)(Object(b.a)({},e),{},{users:J(e.users,"id",t.id,{followed:!1})});case V:return Object(b.a)(Object(b.a)({},e),{},{users:[].concat(Object(j.a)(t.users),Object(j.a)(e.users))});case X:return Object(b.a)(Object(b.a)({},e),{},{allUsers:t.count});case Q:return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.page});case Z:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.fetching});case K:return Object(b.a)(Object(b.a)({},e),{},{followingInProgress:t.progress?[].concat(Object(j.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter((function(e){return e!==t.id}))});default:return e}},ae="auth_reducer_SET_USER_DATA",oe="auth_reducer_IS_ERROR_REQUEST",ce="auth_reducer_TOGGLE_IS_FATCHING",ie="auth_reducer_GET_CAPTCHA_URL",ue={userId:null,email:null,login:null,isAuth:!1,isFetching:!1,error:{isError:!1,message:""},captchaUrl:null},le=function(e,t,r,n){return{type:ae,payload:{userId:e,email:t,login:r,isAuth:n}}},de=function(e,t){return{type:oe,error:{isError:e,message:t}}},pe=function(){return function(e){return y().then((function(t){if(0===t.resultCode){var r=t.data,n=r.id,s=r.email,a=r.login;return e(le(n,s,a,!0)),t.data}})).catch((function(e){return alert(e+"from authMe")}))}},je=function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:r=e.sent,n=r.data.url,t({type:ie,url:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(b.a)(Object(b.a)({},e),t.payload);case oe:return Object(b.a)(Object(b.a)({},e),{},{error:t.error});case ce:return Object(b.a)(Object(b.a)({},e),{},{isFetching:!e.isFetching});case ie:return Object(b.a)(Object(b.a)({},e),{},{captchaUrl:t.url});default:return e}},fe="SET_INITIALIZED",he={initialized:!1},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(b.a)(Object(b.a)({},e),{},{initialized:!0});default:return e}},me=r(70),ge=Object(u.c)({profilePage:B,dialogPage:H.a,navbarPage:z,usersPage:se,auth:be,app:Oe}),ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,xe=Object(u.e)(ge,ve(Object(u.a)(me.a)));window.store=xe;var _e=xe,ke=r(18),ye=r(19),Pe=r(22),we=r(21),Ee=function(e){return Object(n.jsx)("div",{children:"Music"})},Se=r(72),Ce=r.n(Se),Ie=function(e){return Object(n.jsx)("div",{className:Ce.a.blockFriend,children:"Friends"})},Ue=r(32),Fe=r.n(Ue),Ne=r(20),Le=r(49),Re=r.n(Le),Te=function(e){return Object(n.jsx)("div",{className:Re.a.item,children:Object(n.jsx)(Ne.b,{to:e.url,activeClassName:Re.a.active_link,id:e.id,children:e.item})})},Ae=function(e){var t=e.items.navbarItems().map((function(t){var r=t[0].toLowerCase()+t.slice(1),s=e.items.navbarLinks[r];return Object(n.jsx)(Te,{item:t,url:s,id:t},t)}));return Object(n.jsxs)("nav",{className:Fe.a.nav,children:[t,Object(n.jsx)("div",{className:Fe.a.fr}),Object(n.jsx)("div",{className:Fe.a.fr}),Object(n.jsx)("div",{className:Fe.a.fr})]})},De=function(e){return Object(n.jsx)("div",{children:"News"})},Me=function(e){return Object(n.jsx)("div",{children:"Setting"})},Be=r(33),He=r.n(Be),Ge=function(e){var t=e.error,r=e.from,s=e.closeModalError;return Object(n.jsx)("div",{className:He.a.modal,children:Object(n.jsxs)("div",{className:He.a.modalContent,children:["From: ",r,Object(n.jsx)("p",{className:He.a.errorMessage,children:t.message}),Object(n.jsx)("button",{onClick:s,className:He.a.close,children:"Ok"})]})})},ze=r(44),Je=r.n(ze),We=r(52),qe=r.n(We),Ve=r(43),Xe=function(e){var t=e.likes,r=e.liked,s=e.addLike,a=e.id,o=r?"active":"like_blc";return Object(n.jsx)("div",{className:qe.a[o],children:Object(n.jsxs)("span",{onClick:function(){return s(a,t,r)},className:qe.a.likes,children:[" ",Object(n.jsx)(Ve.a,{size:18})," ",t]})})},Qe=r(34),Ze=r.n(Qe),Ke=function(e){var t=e.photos,r=e.message,s=e.addLike,a=e.liked,o=e.id,c=e.likes,i=e.date,u=e.deletePost;return Object(n.jsxs)("div",{className:Ze.a.block_post,children:[Object(n.jsx)("img",{src:t.small,alt:"User avatar"}),Object(n.jsxs)("div",{style:{width:"75%"},children:[Object(n.jsx)("p",{className:Ze.a.post_text,children:r}),Object(n.jsx)(Xe,{addLike:s,liked:a,id:o,likes:c})]}),Object(n.jsx)("span",{className:Ze.a.date,children:i}),Object(n.jsx)("span",{onClick:function(){return u(o)},className:Ze.a.delete_post,children:Object(n.jsx)(Ve.b,{size:16,color:"#5e5e5b"})})]})},Ye=r(8),$e=r(10),et=r(7),tt=a.a.memo((function(e){var t=e.photos,r=e.addPost,s=e.deletePost,a=e.addLike,o=e.posts;return Object(n.jsxs)("div",{className:Je.a.blockPost,children:[Object(n.jsx)("h4",{children:"My posts"}),Object(n.jsx)("div",{className:Je.a.post_area,children:Object(n.jsx)(rt,{onSubmit:function(e){r(e.posText),e.posText=""}})}),Object(n.jsx)("div",{className:Je.a.post,children:o.map((function(e){return Object(n.jsx)(Ke,{deletePost:s,photos:t,addLike:a,message:e.post,liked:e.liked,likes:e.likes,date:e.date,id:e.id},e.id)}))})]})})),rt=function(e){return Object(n.jsx)(Ye.b,{onSubmit:e.onSubmit,render:function(e){var t=e.handleSubmit;return Object(n.jsxs)("form",{onSubmit:t,children:[Object(n.jsx)(Ye.a,{name:"posText",validate:Object(et.a)(et.c,Object(et.b)(15)),typefield:"textarea",component:$e.a}),Object(n.jsx)("button",{children:"Add post"})]})}})},nt=tt,st=r(13),at=r(54),ot=r.n(at),ct=function(e){return Object(n.jsx)("div",{className:ot.a.preloader,children:Object(n.jsx)("div",{className:ot.a.spinner,children:e.from})})},it=r(26),ut=r.n(it),lt=function(e){var t=Object(s.useState)(!1),r=Object(st.a)(t,2),a=r[0],o=r[1],c=Object(s.useState)(e.status),i=Object(st.a)(c,2),u=i[0],l=i[1],d=function(t){e.isOwner&&o(t)};return Object(s.useEffect)((function(){l(e.status)}),[e.status]),Object(n.jsxs)(n.Fragment,{children:[!a&&Object(n.jsx)("div",{onDoubleClick:function(){return d(!0)},className:ut.a.status,children:Object(n.jsx)("span",{children:e.status})}),a&&Object(n.jsx)("div",{children:Object(n.jsx)("input",{autoFocus:!0,onBlur:function(){d(!1),e.setUserStatus(u)},type:"text",onChange:function(e){l(e.currentTarget.value)},value:u})})]})},dt=r(41),pt=r(25),jt=function(e){var t=e.initialValues,r=e.setEditModeData,a=e.saveProfile,o=e.contacts,c=Object(s.useState)(!1),i=Object(st.a)(c,2),u=i[0],l=i[1],j=function(){l((function(e){return!e}))},f=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,s,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(t);case 3:if(0===(n=e.sent).data.resultCode){e.next=10;break}return s=n.data.messages[0],o=s.indexOf(">")+1,c=s.indexOf(")"),s.slice(o,c).toLowerCase(),e.abrupt("return",Object(dt.a)({},pt.a,s));case 10:r(!1),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(Ye.b,{onSubmit:f,initialValues:t,validate:function(e){var t={};return e.contacts.facebook||(t.contacts={facebook:"Required"}),t},children:function(e){var t=e.submitError,r=e.handleSubmit,s=(e.form,e.submitting);e.pristine,e.values;return Object(n.jsxs)("form",{name:"profileForm",onSubmit:r,children:[Object(n.jsx)("button",{type:"submit",disabled:s,children:" Save"}),t&&Object(n.jsx)("div",{style:{color:"red"},children:t}),Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:" About me:"})," ",Object(n.jsx)(Ye.a,{validate:Object(et.b)(50),type:"text",name:"aboutMe",placeholder:"About me",typefield:"textarea",render:$e.a})]},"aboutMe"),Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:" FullName:"})," ",Object(n.jsx)(Ye.a,{validate:Object(et.a)(et.c,Object(et.b)(30)),type:"text",name:"fullName",placeholder:"fullName",typefield:"input",render:$e.a})]},"fullName"),Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:" lookingForAJob:"})," ",Object(n.jsx)(Ye.a,{type:"checkbox",name:"lookingForAJob",placeholder:"lookingForAJob",typefield:"input",render:$e.a,checked:u,onClick:j})]},"lookingForAJob"),u&&Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:" My professional skills:"}),Object(n.jsx)(Ye.a,{validate:Object(et.a)(et.c,Object(et.b)(30)),type:"text",name:"lookingForAJobDescription",placeholder:"lookingForAJobDescription",typefield:"textarea",render:$e.a})]},"lookingForAJobDescription"),Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:" Contacts:"})," ",Object.keys(o).map((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:e}),":",Object(n.jsx)(Ye.a,{name:"contacts.".concat(e),children:function(t){var r=t.input,s=t.meta;return Object(n.jsxs)("div",{children:[Object(n.jsx)("input",Object(b.a)(Object(b.a)({},r),{},{type:"text",placeholder:e})),(s.error||s.submitError)&&s.touched&&Object(n.jsx)("span",{children:s.error||s.submitError})]})}})]},e)}))]},"contacts")]})}})},bt=function(e){var t=Object.entries(e.contacts).map((function(e){var t=Object(st.a)(e,2),r=t[0],s=t[1];return s?Object(n.jsxs)("div",{style:{marginLeft:"20px"},children:[" ",Object(n.jsx)("span",{children:Object(n.jsx)("b",{children:r+": "})}),Object(n.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:s})]},r):null}));return Object(n.jsx)(n.Fragment,{children:t})},ft=function(e){var t=e.profile;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:" FullName:"})," ",t.fullName?t.fullName:"no name"]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:" About me:"})," ",t.aboutMe?t.aboutMe:null]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:" Looking for a job:"}),t.lookingForAJob?" yes":" no"]}),t.lookingForAJob&&Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:" My professional skills: "}),t.lookingForAJobDescription?t.lookingForAJobDescription:null]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:" Contacts:"}),"  ",Object(n.jsx)(bt,{contacts:t.contacts})]})]})},ht=function(e){var t=e.profile,r=e.setUserStatus,a=e.status,o=e.savePhoto,c=e.isOwner,i=e.saveProfile,u=Object(s.useState)(!1),l=Object(st.a)(u,2),d=l[0],p=l[1],j=Object(s.useState)(!1),b=Object(st.a)(j,2),f=b[0],h=b[1],O=Object(s.useState)(!1),m=Object(st.a)(O,2),g=m[0],v=m[1],x=f?"Cancel":"Edit";if(!t)return Object(n.jsx)(ct,{from:"ProfInfo"});var _=t.photos.large||"https://storage.jewheart.com/content/users/avatars/2920/avatar_2920_500.jpg?1558626096";return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:ut.a.descripBlock,children:[Object(n.jsxs)("div",{onMouseEnter:function(e){setTimeout((function(){p(!0)}),0)},onMouseLeave:function(e){setTimeout((function(){p(!1)}),0)},className:ut.a.test,children:[Object(n.jsx)("img",{src:_,alt:"avatar"}),c&&d?Object(n.jsxs)("label",{className:ut.a.updateImage,children:[Object(n.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])},className:ut.a.image_btn})," Upload"]}):null]}),Object(n.jsx)(lt,{setUserStatus:r,isOwner:c,status:a}),Object(n.jsxs)("div",{children:[c&&Object(n.jsx)("button",{onClick:function(){h((function(e){return!e}))},children:x}),f?Object(n.jsx)(jt,{setEditModeData:h,setIsFetching:v,contacts:t.contacts,saveProfile:i,initialValues:t,isFetching:g}):Object(n.jsx)(ft,{profile:t})]})]})})},Ot=function(e){var t=e.profile,r=e.setUserStatus,s=e.saveProfile,a=e.savePhoto,o=e.isOwner,c=e.status,i=e.deletePost,u=e.addLike,l=e.addPost,d=e.posts,p=e.closeModalError,j=e.httpError,b=e.photos;return Object(n.jsxs)("div",{children:[Object(n.jsx)(ht,{setUserStatus:r,saveProfile:s,savePhoto:a,profile:t,isOwner:o,status:c}),Object(n.jsx)(nt,{deletePost:i,addLike:u,addPost:l,photos:b,posts:d}),j&&Object(n.jsx)(Ge,{closeModalError:p,from:j.request,error:j.error})]})},mt=r(9),gt=r(4),vt=r(39),xt=r(27),_t=function(e){Object(Pe.a)(r,e);var t=Object(we.a)(r);function r(){var e;Object(ke.a)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).refreshProfile=function(){var t=+e.props.match.params.userId;t||(t=e.props.loggedUserId),e.props.profile&&e.props.profile.userId===t||(e.props.getUserProfile(t),e.props.getUserStatus(t))},e}return Object(ye.a)(r,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){+this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(n.jsx)(Ot,{isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,profile:this.props.profile,setUserStatus:this.props.setUserStatus,status:this.props.status,addLike:this.props.addLike,addPost:this.props.addPost,posts:this.props.posts,saveProfile:this.props.saveProfile,httpError:this.props.httpError,closeModalError:this.props.closeModalError,deletePost:this.props.deletePost,photos:this.props.photos})}}]),r}(s.PureComponent),kt=Object(u.d)(Object(mt.b)((function(e){return{posts:Object(xt.b)(e),profile:Object(xt.c)(e),photos:Object(xt.e)(e),status:Object(xt.d)(e),httpError:Object(xt.a)(e),loggedUserId:Object(xt.f)(e)}}),{addPost:function(e){return{type:C,postText:e}},addLike:function(e,t,r){return{type:S,id:e,likes:t,liked:r}},getUserProfile:M,getUserStatus:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e);case 3:n=t.sent,r(A(n.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(D(t.t0,"User Status"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},setUserStatus:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x(e);case 3:0===t.sent.data.resultCode&&r(A(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(D(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_(e);case 3:0===(n=t.sent).data.resultCode&&r((s=n.data.data.photos,{type:N,photos:s})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(D(t.t0));case 10:case"end":return t.stop()}var s}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(r,n){var s,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=n().auth.userId,t.next=4,k(e);case 4:if(0!==(a=t.sent).data.resultCode){t.next=8;break}return r(M(s)),t.abrupt("return",a);case 8:return t.abrupt("return",a);case 11:t.prev=11,t.t0=t.catch(0),r(D(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},closeModalError:function(){return{type:R}},deletePost:function(e){return{type:I,postId:e}}}),gt.g,vt.a)(_t),yt=r(42),Pt=r(28),wt=r(29),Et=r.n(wt),St=function(e){var t=e.followingInProgress,r=e.userId,s=e.value,a=Object(Pt.a)(e,["followingInProgress","userId","value"]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("button",{disabled:t.some((function(e){return e===r})),onClick:function(){a.followUnfollow(r)},className:Et.a.followBtn,children:s})})},Ct=r(56),It=function(e){var t=e.user,r=Object(Pt.a)(e,["user"]);return Object(n.jsxs)("div",{className:Et.a.userBlock,children:[Object(n.jsxs)("div",{className:Et.a.avatar,children:[Object(n.jsx)(Ne.b,{to:"profile/".concat(t.id),children:Object(n.jsx)(Ct.a,{url:t.photos.large||"https://st2.depositphotos.com/2703645/5669/v/950/depositphotos_56695985-stock-illustration-male-avatar.jpg",radius:"10px",width:50,heigth:50})}),t.followed?Object(n.jsx)(St,{followingInProgress:r.followingInProgress,followUnfollow:r.unFollow,userId:t.id,value:"Unfollow"}):Object(n.jsx)(St,{followingInProgress:r.followingInProgress,followUnfollow:r.follow,userId:t.id,value:"Follow"})]}),Object(n.jsx)("div",{className:Et.a.userInfo,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:t.name}),Object(n.jsxs)("p",{children:[t.status||null,t.id]})]})})]})},Ut=function(e){return e.users.map((function(t){return Object(s.createElement)(It,Object(b.a)(Object(b.a)({user:t},e),{},{key:t.id}))}))},Ft=r(47),Nt=function(e){return e.usersPage.users},Lt=function(e){return e.usersPage.followingInProgress},Rt=(Object(Ft.a)(Nt,(function(e){return e.filter((function(e){return!0}))})),r(74)),Tt=r.n(Rt),At=r(35),Dt=r.n(At),Mt=function(e){var t=Object(s.useState)(1),r=Object(st.a)(t,2),a=r[0],o=r[1];return Object(n.jsx)("div",{children:Object(n.jsx)(Tt.a,{activeClass:Dt.a.active,activeLinkClass:Dt.a.active,innerClass:Dt.a.paginationBlock,itemClass:Dt.a.li,activePage:a,itemsCountPerPage:10,totalItemsCount:e.allUsers,pageRangeDisplayed:15,onChange:function(t){o(t),e.getUsers(t,5)}})})},Bt=function(e){Object(Pe.a)(r,e);var t=Object(we.a)(r);function r(e){var n;return Object(ke.a)(this,r),(n=t.call(this,e)).clickPage=n.clickPage.bind(Object(yt.a)(n)),n}return Object(ye.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.pageSize;0===this.props.users.length&&this.props.getUsersThunkCreator(1,e)}},{key:"clickPage",value:function(e){var t=+e.target.id,r=this.props.pageSize;this.props.getUsersThunkCreator(t,r),this.props.setCurrentPage(t)}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[this.props.isFetching?Object(n.jsx)(ct,{from:"user"}):null,Object(n.jsx)(Mt,{allUsers:this.props.allUsers,getUsers:this.props.getUsersThunkCreator}),Object(n.jsx)(Ut,{followingInProgress:this.props.followingInProgress,users:this.props.users,unFollow:this.props.unFollow,follow:this.props.follow})]})}}]),r}(a.a.Component),Ht=Object(u.d)(Object(mt.b)((function(e){return{users:Nt(e),allUsers:e.usersPage.allUsers,pageSize:e.usersPage.pageSize,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:Lt(e)}}),{follow:function(e){var t=O;return function(r){ne(r,t,ee,e)}},unFollow:function(e){var t=m;return function(r){ne(r,t,$,e)}},setCurrentPage:function(e){return{type:Q,page:e}},getUsersThunkCreator:function(e,t){return function(){var r=Object(p.a)(d.a.mark((function r(n){var s;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(te(!0)),r.next=3,h(e,t);case 3:s=r.sent,n((o=s.items,{type:V,users:o})),n((a=s.totalCount,{type:X,count:a})),n(te(!1));case 7:case"end":return r.stop()}var a,o}),r)})));return function(e){return r.apply(this,arguments)}}()}}),vt.a)(Bt),Gt=r(55),zt=r.n(Gt),Jt=function(){return Object(n.jsx)("div",{className:zt.a.search,children:Object(n.jsx)(Ye.b,{onSubmit:function(e){console.log(e)},render:function(e){var t=e.handleSubmit;return Object(n.jsxs)("form",{onSubmit:t,name:"searchForm",children:[Object(n.jsx)(Ye.a,{name:"search",typefield:"input",type:"search",render:$e.a}),Object(n.jsx)("button",{children:"Search"})]})}})})},Wt=Jt,qt=r(45),Vt=r.n(qt),Xt=function(e){return Object(n.jsxs)("header",{className:Vt.a.header,children:[Object(n.jsx)("h1",{className:Vt.a.logo,children:"Note Face"}),Object(n.jsx)(Wt,{}),Object(n.jsx)("div",{className:Vt.a.loginBlock,children:e.isAuth?Object(n.jsxs)("div",{children:[Object(n.jsxs)("span",{style:{color:"white",marginRight:"15px"},children:[" ",e.login," "]}),Object(n.jsx)(Ne.b,{onClick:e.logout,to:"/login",children:"Logout"})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)(Ne.b,{to:"/login",children:"Login"})," "]})})]})},Qt=function(e){Object(Pe.a)(r,e);var t=Object(we.a)(r);function r(){return Object(ke.a)(this,r),t.apply(this,arguments)}return Object(ye.a)(r,[{key:"render",value:function(){return Object(n.jsx)(Xt,Object(b.a)({},this.props))}}]),r}(a.a.Component),Zt=Object(mt.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{authMeThunk:pe,logout:function(){return function(e){w().then((function(t){0===t.data.resultCode&&e(le(null,null,null,!1))}))}}})(Qt),Kt=r(75),Yt=r.n(Kt),$t=Object(mt.b)((function(e){return{captchaUrl:e.auth.captchaUrl,authMe:e.auth.isAuth,error:e.auth.error,isFetching:e.auth.isFetching}}),{login:function(e,t,r,n){return function(s){return P(e,t,r,n).then((function(e){0===e.data.resultCode?(s(de(!1,"")),s(pe())):(10===e.data.resultCode&&s(je()),s(de(!0,e.data.messages[0])))}))}},toggleIsFetching:function(e){return{type:ce,fetching:e}}})((function(e){if(e.authMe)return Object(n.jsx)(gt.a,{to:"/profile"});var t=e.isFetching,r=e.toggleIsFetching,s=e.captchaUrl;if(t)return Object(n.jsx)(ct,{});var a=e.error,o=a.isError,c=a.message;return Object(n.jsx)(Ye.b,{onSubmit:function(t){r();var n=t.login,s=t.password,a=t.rememberMe,o=t.captcha;e.login(n,s,a,o).then((function(){return r()}))},children:function(e){var t=e.handleSubmit;return Object(n.jsxs)("form",{onSubmit:t,children:[Object(n.jsx)("div",{children:Object(n.jsx)(Ye.a,{validate:Object(et.a)(et.c,Object(et.b)(30)),type:"text",name:"login",placeholder:"Login",typefield:"input",render:$e.a})}),Object(n.jsxs)("div",{children:[Object(n.jsx)(Ye.a,{validate:Object(et.a)(et.c,Object(et.b)(30)),type:"password",name:"password",placeholder:"Password",typefield:"input",render:$e.a}),Object(n.jsxs)("div",{children:[Object(n.jsx)(Ye.a,{type:"checkbox",name:"rememberMe",typefield:"input",render:$e.a})," remember me"]})]}),s&&Object(n.jsx)("img",{src:s,alt:"captcha"}),s&&Object(n.jsx)(Ye.a,{validate:et.c,type:"text",name:"captcha",placeholder:"Enter symbols",typefield:"input",render:$e.a}),Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{children:"Login"}),o&&Object(n.jsx)("span",{children:c})]})]})}})})),er=function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:Yt.a.title,children:"Login"}),Object(n.jsx)($t,{})]})},tr=function(e){return function(t){return Object(n.jsx)(s.Suspense,{fallback:Object(n.jsx)(ct,{from:"HOC"}),children:Object(n.jsx)(e,Object(b.a)({},t))})}},rr=(r(109),a.a.lazy((function(){return r.e(3).then(r.bind(null,116))}))),nr=function(e){Object(Pe.a)(r,e);var t=Object(we.a)(r);function r(){var e;Object(ke.a)(this,r);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhundledErrors=function(e){alert("Some error occured"),console.log(e)},e.usersContainer=function(){return Object(n.jsx)(Ht,{})},e.profileContainerBlock=function(){return Object(n.jsx)(kt,{})},e}return Object(ye.a)(r,[{key:"componentDidMount",value:function(){this.props.initializedApp(),window.addEventListener("unhandledrejection",this.catchAllUnhundledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhundledErrors)}},{key:"render",value:function(){return this.props.initialized?Object(n.jsxs)("div",{className:"app-wrapper",children:[Object(n.jsx)(Zt,{}),Object(n.jsx)(Ae,{items:this.props.navbar}),Object(n.jsx)("div",{className:"app-wrapper-content",children:Object(n.jsxs)(gt.d,{children:[Object(n.jsx)(gt.b,{exact:!0,path:"/",children:Object(n.jsx)(gt.a,{to:"/profile"})}),Object(n.jsx)(gt.b,{exact:!0,path:"/profile/:userId?",render:this.profileContainerBlock}),Object(n.jsx)(gt.b,{path:"/dialogs/:userId?",render:tr(rr)}),Object(n.jsx)(gt.b,{path:"/news",render:De}),Object(n.jsx)(gt.b,{path:"/music",render:Ee}),Object(n.jsx)(gt.b,{path:"/settings",render:Me}),Object(n.jsx)(gt.b,{path:"/friends",render:Ie}),Object(n.jsx)(gt.b,{path:"/users",render:this.usersContainer}),Object(n.jsx)(gt.b,{path:"/login",render:er}),Object(n.jsx)(gt.b,{path:"*",render:function(){return Object(n.jsx)("div",{children:"404 PAGE NOT FOUND"})}})]})})]}):Object(n.jsx)(ct,{from:"AppComponent"})}}]),r}(a.a.Component),sr=Object(u.d)(Object(mt.b)((function(e){return{initialized:e.app.initialized}}),{initializedApp:function(){return function(e){return e(pe()).then((function(){return e({type:fe})}))}}}),gt.g)(nr);c.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(Ne.a,{children:Object(n.jsx)(mt.a,{store:_e,children:Object(n.jsx)(sr,{navbar:_e.getState().navbarPage})})})}),document.getElementById("root")),i()},26:function(e,t,r){e.exports={theme:"ProfInfo_theme__FC3N0",descripBlock:"ProfInfo_descripBlock__1GEo9",status:"ProfInfo_status__1cAZd",test:"ProfInfo_test__sTW1Q",image_btn:"ProfInfo_image_btn__3P5v7",updateImage:"ProfInfo_updateImage__35J0l",showButton:"ProfInfo_showButton__2EsI6"}},27:function(e,t,r){"use strict";r.d(t,"e",(function(){return n})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return c})),r.d(t,"f",(function(){return i}));r(47);var n=function(e){var t="https://sun9-4.userapi.com/impf/c622525/v622525638/4af76/FHil73y11v0.jpg?size=600x260&quality=96&proxy=1&sign=f859b538c68a2e31968ba0601eba79c5&type=album";return e.profilePage.profile?e.profilePage.profile.photos:{large:t,small:t}},s=function(e){return e.profilePage.error},a=function(e){return e.profilePage.posts},o=function(e){return e.profilePage.profile},c=function(e){return e.profilePage.status},i=function(e){return e.auth.userId}},29:function(e,t,r){e.exports={userBlock:"Users_userBlock__3LZti",avatar:"Users_avatar__18YPy",userInfo:"Users_userInfo__BycZp",followBtn:"Users_followBtn__2wtDQ"}},32:function(e,t,r){e.exports={nav:"Navbar_nav__3c_MF",item:"Navbar_item__25rnZ",active_link:"Navbar_active_link__34v5X",fr:"Navbar_fr__1aLkl"}},33:function(e,t,r){e.exports={modal:"ErrorWindow_modal__3lxeI",modalContent:"ErrorWindow_modalContent__2Crln",close:"ErrorWindow_close__1KNsP"}},34:function(e,t,r){e.exports={block_post:"Post_block_post__sdo5L",delete_post:"Post_delete_post__9agIC",post_text:"Post_post_text__1HCZW",date:"Post_date__soumt"}},35:function(e,t,r){e.exports={li:"Pagination_li__2TMoV",active:"Pagination_active__1reQW",paginationBlock:"Pagination_paginationBlock__myyYO"}},39:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(2),s=r(0),a=r(18),o=r(19),c=r(22),i=r(21),u=r(1),l=r.n(u),d=r(9),p=r(4),j=function(e){return{authMe:e.auth.isAuth}},b=function(e){var t=function(t){Object(c.a)(u,t);var r=Object(i.a)(u);function u(){return Object(a.a)(this,u),r.apply(this,arguments)}return Object(o.a)(u,[{key:"render",value:function(){return this.props.authMe?Object(s.jsx)(e,Object(n.a)({},this.props)):Object(s.jsx)(p.a,{to:"/login"})}}]),u}(l.a.Component);return Object(d.b)(j,{})(t)}},44:function(e,t,r){e.exports={post_area:"MyPosts_post_area__3etA_",post:"MyPosts_post__1kHsr",blockPost:"MyPosts_blockPost__37chQ",addPost:"MyPosts_addPost__2DFxt",textarea:"MyPosts_textarea__2tq8g"}},45:function(e,t,r){e.exports={header:"Header_header__1TNvs",logo:"Header_logo__rXwVX",loginBlock:"Header_loginBlock__39MmL"}},49:function(e,t,r){e.exports={item:"NavbarItems_item__1ko-d",active_link:"NavbarItems_active_link__12l8m"}},52:function(e,t,r){e.exports={like_blc:"Likes_like_blc__3VXVE",active:"Likes_active__3Tn2k",likes:"Likes_likes__1C3WL"}},53:function(e,t,r){e.exports={formControl:"FormsControl_formControl__15b7K",error:"FormsControl_error__2BuRw",color:"FormsControl_color__1QqEq"}},54:function(e,t,r){e.exports={preloader:"Preloader_preloader__2MA0H",spinner:"Preloader_spinner__28WRe",spin:"Preloader_spin__2CIFl"}},55:function(e,t,r){e.exports={form:"Search_form__3Vr3U",search:"Search_search__1hfo3"}},56:function(e,t,r){"use strict";var n=r(0);r(1);t.a=function(e){var t=e.radius,r=e.width,s=e.height,a=e.url;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("img",{style:{width:r,height:s,borderRadius:t},src:a,alt:"userphoto"})})}},65:function(e,t,r){"use strict";r.d(t,"b",(function(){return i}));var n=r(24),s=r(2),a="SEND_MESSAGE",o="SET_TEXT",c={dialogUser:[{id:1,name:"Roman",url:"https://storage.jewheart.com/content/users/avatars/2920/avatar_2920_500.jpg?1558626096",dialog:[{me:"guest",message:"You are welcome",id:1},{user:"guest",message:"Hello. Lorem ipsum dolor sit amet consectetur adipisicing elit. Aut id nisi suscipit dolore quas at debitis recusandae repudiandae amet eveniet!",id:2},{me:"guest",message:"Hello.How are you?",id:3},{user:"guest",message:"Thank you!I am okey Lorem ipsum dolor sit amet consectetur adipisicing elit.Aut id nisi suscipit dolore quas at debitis recusandae repudiandae amet eveniet! Thank you!I am okey Lorem ipsum dolor sit amet consectetur adipisicing elit.Aut id nisi suscipit dolore quas at debitis recusandae repudiandae amet eveniet!",id:4},{me:"guest",message:"Very nice)",id:5}]},{id:2,name:"Ivan",url:"https://bipbap.ru/wp-content/uploads/2017/05/VOLKI-krasivye-i-ochen-umnye-zhivotnye.jpg",dialog:[{user:"guest",message:"Goodnight honey",id:1},{me:"guest",message:"Goodnight my dear",id:2},{user:"guest",message:"I love you",id:3},{me:"guest",message:"And I you too",id:4},{me:"guest",message:"Buy buy",id:5}]},{id:3,name:"Stephan",url:"https://sun9-4.userapi.com/impf/c622525/v622525638/4af76/FHil73y11v0.jpg?size=600x260&quality=96&proxy=1&sign=f859b538c68a2e31968ba0601eba79c5&type=album",dialog:[{user:"guest",message:"Hello, Ruslan",id:1},{me:"guest",message:"Hello user",id:2},{me:"guest",message:"ha ha",id:3}]},{id:4,name:"Ruslan",url:"https://ru.myanimeshelf.com/eva2/upload/ad52b485db1863be730c79fe65b3402c/%D1%84%D0%BC%D1%84%D0%B5%D1%84%D0%BA.jpg",dialog:[{user:"guest",message:"lorem ipsum dolor",id:1},{me:"guest",message:"Can I help you?",id:2},{me:"guest",message:"No thank you",id:3}]}]},i=function(e,t){return{type:a,text:e,id:t}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(s.a)(Object(s.a)({},e),{},{userText:t.text});case a:return""===e.userText?e:Object(s.a)(Object(s.a)({},e),{},{dialogUser:e.dialogUser.map((function(e,r){return r===t.id?Object(s.a)(Object(s.a)({},e),{},{dialog:[].concat(Object(n.a)(e.dialog),[{me:"host",message:t.text,id:e.dialog.length+1}])}):e}))});default:return e}}},7:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return a}));var n=function(e){return e?void 0:"Required"},s=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}},a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(t,r){return t||r(e)}),void 0)}}},72:function(e,t,r){e.exports={blockFriend:"Friends_blockFriend__1goBo"}},75:function(e,t,r){e.exports={title:"Login_title__1GXTC"}},81:function(e,t,r){}},[[110,1,2]]]);
//# sourceMappingURL=main.84c500d3.chunk.js.map