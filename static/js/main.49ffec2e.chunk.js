(this["webpackJsonpreact-app1"]=this["webpackJsonpreact-app1"]||[]).push([[0],{112:function(e,t,n){e.exports={item:"NavbarItems_item__1ko-d",active_link:"NavbarItems_active_link__12l8m"}},115:function(e,t,n){e.exports={preloader:"Preloader_preloader__2MA0H",spinner:"Preloader_spinner__28WRe",spin:"Preloader_spin__2CIFl"}},127:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(43),s=n(3),a="SEND_MESSAGE",c="SET_TEXT",i={dialogUser:[{id:1,name:"Roman",url:"https://storage.jewheart.com/content/users/avatars/2920/avatar_2920_500.jpg?1558626096",dialog:[{me:"guest",message:"You are welcome",id:1},{user:"guest",message:"Hello. Lorem ipsum dolor sit amet consectetur adipisicing elit. Aut id nisi suscipit dolore quas at debitis recusandae repudiandae amet eveniet!",id:2},{me:"guest",message:"Hello.How are you?",id:3},{user:"guest",message:"Thank you!I am okey Lorem ipsum dolor sit amet consectetur adipisicing elit.Aut id nisi suscipit dolore quas at debitis recusandae repudiandae amet eveniet! Thank you!I am okey Lorem ipsum dolor sit amet consectetur adipisicing elit.Aut id nisi suscipit dolore quas at debitis recusandae repudiandae amet eveniet!",id:4},{me:"guest",message:"Very nice)",id:5}]},{id:2,name:"Ivan",url:"https://bipbap.ru/wp-content/uploads/2017/05/VOLKI-krasivye-i-ochen-umnye-zhivotnye.jpg",dialog:[{user:"guest",message:"Goodnight honey",id:1},{me:"guest",message:"Goodnight my dear",id:2},{user:"guest",message:"I love you",id:3},{me:"guest",message:"And I you too",id:4},{me:"guest",message:"Buy buy",id:5}]},{id:3,name:"Stephan",url:"https://sun9-4.userapi.com/impf/c622525/v622525638/4af76/FHil73y11v0.jpg?size=600x260&quality=96&proxy=1&sign=f859b538c68a2e31968ba0601eba79c5&type=album",dialog:[{user:"guest",message:"Hello, Ruslan",id:1},{me:"guest",message:"Hello user",id:2},{me:"guest",message:"ha ha",id:3}]},{id:4,name:"Ruslan",url:"https://ru.myanimeshelf.com/eva2/upload/ad52b485db1863be730c79fe65b3402c/%D1%84%D0%BC%D1%84%D0%B5%D1%84%D0%BA.jpg",dialog:[{user:"guest",message:"lorem ipsum dolor",id:1},{me:"guest",message:"Can I help you?",id:2},{me:"guest",message:"No thank you",id:3}]}]},o=function(e,t){return{type:a,text:e,id:t}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return Object(s.a)(Object(s.a)({},e),{},{userText:t.text});case a:return""===e.userText?e:Object(s.a)(Object(s.a)({},e),{},{dialogUser:e.dialogUser.map((function(e,n){return n===t.id?Object(s.a)(Object(s.a)({},e),{},{dialog:[].concat(Object(r.a)(e.dialog),[{me:"host",message:t.text,id:e.dialog.length+1}])}):e}))});default:return e}}},179:function(e,t,n){e.exports={blockFriend:"Friends_blockFriend__1goBo"}},180:function(e,t,n){e.exports={like_blc:"Likes_like_blc__3VXVE",active:"Likes_active__3Tn2k"}},181:function(e,t,n){e.exports={block_post:"Post_block_post__sdo5L"}},185:function(e,t,n){e.exports={avatar:"AvatarUser_avatar__3cj-e"}},187:function(e,t,n){e.exports={form:"Search_form__3Vr3U"}},188:function(e,t,n){e.exports={title:"Login_title__1GXTC"}},193:function(e,t,n){},26:function(e,t,n){"use strict";var r=n(0),s=n(3),a=n(56),c=n(1),i=n.n(c),o=n(85),u=n.n(o);t.a=function(e){var t=e.typefield,n=e.input,c=e.meta,o=Object(a.a)(e,["typefield","input","meta"]),l=c.touched&&c.error;return Object(r.jsxs)("div",{className:u.a.formControl+" "+(l?u.a.error:""),children:[i.a.createElement(t,Object(s.a)(Object(s.a)({},n),o)),l&&Object(r.jsx)("span",{className:u.a.color,children:c.error||c.submitError})]})}},48:function(e,t,n){e.exports={userBlock:"Users_userBlock__3LZti",avatar:"Users_avatar__18YPy",userInfo:"Users_userInfo__BycZp",followBtn:"Users_followBtn__2wtDQ"}},50:function(e,t,n){e.exports={theme:"ProfInfo_theme__FC3N0",descripBlock:"ProfInfo_descripBlock__1GEo9",status:"ProfInfo_status__1cAZd",test:"ProfInfo_test__sTW1Q",image_btn:"ProfInfo_image_btn__3P5v7",updateImage:"ProfInfo_updateImage__35J0l",showButton:"ProfInfo_showButton__2EsI6"}},511:function(e,t,n){},512:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(1),a=n.n(s),c=n(25),i=n.n(c),o=(n(193),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,517)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))}),u=n(19),l=n(7),d=n.n(l),j=n(20),p=n(43),b=n(3),f=n(176).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"5d382d54-6433-44f9-b0eb-5712753c3007"}}),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return f.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},O=function(e){return f.post("follow/".concat(e),{}).then((function(e){return e.data}))},g=function(e){return f.delete("follow/".concat(e)).then((function(e){return e.data}))},m=function(e){return f.get("profile/".concat(e)).then((function(e){return e.data}))},v=function(e){return f.get("profile/status/"+e)},x=function(e){return f.put("profile/status",{status:e})},_=function(e){var t=new FormData;return t.append("image",e),f.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},k=function(e){return f.put("/profile",e)},y=function(){return f.get("auth/me").then((function(e){return e.data}))},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return f.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},w=function(){return f.delete("auth/login")},E=function(){return f.get("security/get-captcha-url")},S="PROFILE_ADD_LIKE",I="PROFILE_ADD_POST",U="PROFILE_DELETE_POST",C="PROFILE_SET_PROFILE_USER",F="PROFILE_GET_USER_STATUS",N="SAVE_PHOTO_SUCSESS",T={user:{},posts:[{id:1,post:"Hey, how are you?",likes:8,liked:!1},{id:2,post:"Hello, friend!",likes:15,liked:!1},{id:3,post:"Please at this link https://www.google.com.ua/?hl=uk",likes:68,liked:!1}],profile:null,status:""},A=function(e){return{type:F,status:e}},L=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m(e);case 3:r=t.sent,n({type:C,profile:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(b.a)(Object(b.a)({},e),{},{status:t.status});case S:return Object(b.a)(Object(b.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.post.id?t.post.liked?Object(b.a)(Object(b.a)({},e),{},{liked:!1,likes:--t.post.likes}):Object(b.a)(Object(b.a)({},e),{},{liked:!0,likes:++t.post.likes}):e}))});case I:return""===t.postText?e:Object(b.a)(Object(b.a)({},e),{},{posts:[].concat(Object(p.a)(e.posts),[{id:e.posts[e.posts.length-1].id+1,post:t.postText,likes:0,liked:!1}])});case U:return Object(b.a)(Object(b.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case C:return Object(b.a)(Object(b.a)({},e),{},{profile:Object(b.a)(Object(b.a)({},e.profile),t.profile)});case N:return Object(b.a)(Object(b.a)({},e),{},{profile:Object(b.a)(Object(b.a)({},e.profile),{},{photos:t.photos})});default:return e}},D=n(127),M={navbarLinks:{profile:"/profile",users:"/users",message:"/dialogs",news:"/news",music:"/music",settings:"/settings",friends:"/friends"},navbarItems:function(){return Object.keys(this.navbarLinks).map((function(e){return e[0].toUpperCase()+e.slice(1)}))}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return e},G=function(e,t,n,r){return e.map((function(e){return e[t]===n?Object(b.a)(Object(b.a)({},e),r):e}))},H="USER_REDUCER_UN_FOLLOW",z="USER_REDUCER_FOLLOW",V="USER_REDUCER_SET_USERS",J="USER_REDUCER_SET_USERS_COUNT",q="SET_CURRENT_PAGE",Q="USER_REDUCER_TOGGLE_IS_FATCHING",X="USER_REDUCER_TOGGLE_IS_FOLLOWING_PROGRESS",W={users:[],pageSize:5,allUsers:0,currentPage:1,isFetching:!1,followingInProgress:[]},Y=function(e){return{type:H,id:e}},Z=function(e){return{type:z,id:e}},K=function(e){return{type:Q,fetching:e}},$=function(e,t){return{type:X,progress:e,id:t}},ee=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t($(!0,s)),e.next=3,n(s);case 3:0===e.sent.resultCode&&(t(r(s)),t($(!1,s)));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(b.a)(Object(b.a)({},e),{},{users:G(e.users,"id",t.id,{followed:!0})});case H:return Object(b.a)(Object(b.a)({},e),{},{users:G(e.users,"id",t.id,{followed:!1})});case V:return Object(b.a)(Object(b.a)({},e),{},{users:[].concat(Object(p.a)(t.users),Object(p.a)(e.users))});case J:return Object(b.a)(Object(b.a)({},e),{},{allUsers:t.count});case q:return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.page});case Q:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.fetching});case X:return Object(b.a)(Object(b.a)({},e),{},{followingInProgress:t.progress?[].concat(Object(p.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter((function(e){return e!==t.id}))});default:return e}},ne="auth_reducer_SET_USER_DATA",re="auth_reducer_IS_ERROR_REQUEST",se="auth_reducer_TOGGLE_IS_FATCHING",ae="auth_reducer_GET_CAPTCHA_URL",ce={userId:null,email:null,login:null,isAuth:!1,isFetching:!1,error:{isError:!1,message:""},captchaUrl:null},ie=function(e,t,n,r){return{type:ne,payload:{userId:e,email:t,login:n,isAuth:r}}},oe=function(e,t){return{type:re,error:{isError:e,message:t}}},ue=function(){return function(e){return y().then((function(t){if(0===t.resultCode){var n=t.data,r=n.id,s=n.email,a=n.login;return e(ie(r,s,a,!0)),t.data}})).catch((function(e){return alert(e+"from authMe")}))}},le=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:n=e.sent,r=n.data.url,t({type:ae,url:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(b.a)(Object(b.a)({},e),t.payload);case re:return Object(b.a)(Object(b.a)({},e),{},{error:t.error});case se:return Object(b.a)(Object(b.a)({},e),{},{isFetching:!e.isFetching});case ae:return Object(b.a)(Object(b.a)({},e),{},{captchaUrl:t.url});default:return e}},je="SET_INITIALIZED",pe={initialized:!1},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(b.a)(Object(b.a)({},e),{},{initialized:!0});default:return e}},fe=n(177),he=Object(u.c)({profilePage:R,dialogPage:D.a,navbarPage:B,usersPage:te,auth:de,app:be}),Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,ge=Object(u.e)(he,Oe(Object(u.a)(fe.a)));window.store=ge;var me=ge,ve=n(34),xe=n(35),_e=n(37),ke=n(36),ye=function(e){return Object(r.jsx)("div",{children:"Music"})},Pe=n(179),we=n.n(Pe),Ee=function(e){return Object(r.jsx)("div",{className:we.a.blockFriend,children:"Friends"})},Se=n(69),Ie=n.n(Se),Ue=n(33),Ce=n(112),Fe=n.n(Ce),Ne=function(e){return Object(r.jsx)("div",{className:Fe.a.item,children:Object(r.jsx)(Ue.b,{to:e.url,activeClassName:Fe.a.active_link,id:e.id,children:e.item})})},Te=function(e){var t=e.items.navbarItems().map((function(t){var n=t[0].toLowerCase()+t.slice(1),s=e.items.navbarLinks[n];return Object(r.jsx)(Ne,{item:t,url:s,id:t},t)}));return Object(r.jsxs)("nav",{className:Ie.a.nav,children:[t,Object(r.jsx)("div",{className:Ie.a.fr}),Object(r.jsx)("div",{className:Ie.a.fr}),Object(r.jsx)("div",{className:Ie.a.fr})]})},Ae=function(e){return Object(r.jsx)("div",{children:"News"})},Le=function(e){return Object(r.jsx)("div",{children:"Setting"})},Re=n(84),De=n.n(Re),Me=n(180),Be=n.n(Me),Ge=function(e){var t=e.currentPost.liked?"active":"like_blc";return Object(r.jsxs)("div",{className:Be.a[t],onClick:function(){e.like(e.currentPost)},children:["like: ",e.currentPost.likes]})},He=n(181),ze=n.n(He),Ve=function(e){return Object(r.jsxs)("div",{className:ze.a.block_post,children:[Object(r.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQVU_f47fabMc829_DSs8H4PVI-Q2TVEYehSw&usqp=CAU",alt:""}),Object(r.jsx)("p",{children:e.message}),Object(r.jsx)(Ge,{like:e.like,currentPost:e.currentPost})]})},Je=n(13),qe=n(26),Qe=n(8),Xe=a.a.memo((function(e){return Object(r.jsxs)("div",{className:De.a.blockPost,children:[Object(r.jsx)("h4",{children:"My posts"}),Object(r.jsx)("div",{className:De.a.post_area,children:Object(r.jsx)(We,{onSubmit:function(t){e.addPost(t.posText),t.posText=""}})}),Object(r.jsx)("div",{className:De.a.post,children:e.posts.map((function(t){return Object(r.jsx)(Ve,{message:t.post,currentPost:t,like:e.addLike},t.id)}))})]})})),We=function(e){return Object(r.jsx)(Je.b,{onSubmit:e.onSubmit,render:function(e){var t=e.handleSubmit;return Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)(Je.a,{name:"posText",validate:Object(Qe.a)(Qe.c,Object(Qe.b)(15)),typefield:"textarea",component:qe.a}),Object(r.jsx)("button",{children:"Add post"})]})}})},Ye=Xe,Ze=n(10),Ke=n(115),$e=n.n(Ke),et=function(e){return Object(r.jsx)("div",{className:$e.a.preloader,children:Object(r.jsx)("div",{className:$e.a.spinner,children:e.from})})},tt=n(50),nt=n.n(tt),rt=function(e){var t=Object(s.useState)(!1),n=Object(Ze.a)(t,2),a=n[0],c=n[1],i=Object(s.useState)(e.status),o=Object(Ze.a)(i,2),u=o[0],l=o[1],d=function(t){e.isOwner&&c(t)};return Object(s.useEffect)((function(){l(e.status)}),[e.status]),Object(r.jsxs)(r.Fragment,{children:[!a&&Object(r.jsx)("div",{onDoubleClick:function(){return d(!0)},className:nt.a.status,children:Object(r.jsx)("span",{children:e.status})}),a&&Object(r.jsx)("div",{children:Object(r.jsx)("input",{autoFocus:!0,onBlur:function(){d(!1),e.setUserStatus(u)},type:"text",onChange:function(e){l(e.currentTarget.value)},value:u})})]})},st=n(82),at=n(49),ct=function(e){var t=e.initialValues,n=e.setEditModeData,a=e.isFetching,c=(e.setIsFetching,e.saveProfile),i=e.contacts,o=Object(s.useState)(!1),u=Object(Ze.a)(o,2),l=u[0],p=u[1],f=function(){p((function(e){return!e}))},h=function(){var e=Object(j.a)(d.a.mark((function e(t){var r,s,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(t);case 3:if(0===(r=e.sent).data.resultCode){e.next=10;break}return s=r.data.messages[0],a=s.indexOf(">")+1,i=s.indexOf(")"),s.slice(a,i).toLowerCase(),e.abrupt("return",Object(st.a)({},at.a,s));case 10:n(!1),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return a?Object(r.jsx)(et,{}):Object(r.jsx)(Je.b,{onSubmit:h,initialValues:t,validate:function(e){var t={};return e.contacts.facebook||(t.contacts={facebook:"Required"}),t},children:function(e){var t=e.submitError,n=e.handleSubmit,s=(e.form,e.submitting);e.pristine,e.values;return Object(r.jsxs)("form",{name:"profileForm",onSubmit:n,children:[Object(r.jsx)("button",{type:"submit",disabled:s,children:" Save"}),t&&Object(r.jsx)("div",{style:{color:"red"},children:t}),Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:" About me:"})," ",Object(r.jsx)(Je.a,{validate:Object(Qe.b)(50),type:"text",name:"aboutMe",placeholder:"About me",typefield:"textarea",render:qe.a})]},"aboutMe"),Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:" FullName:"})," ",Object(r.jsx)(Je.a,{validate:Object(Qe.a)(Qe.c,Object(Qe.b)(30)),type:"text",name:"fullName",placeholder:"fullName",typefield:"input",render:qe.a})]},"fullName"),Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:" lookingForAJob:"})," ",Object(r.jsx)(Je.a,{type:"checkbox",name:"lookingForAJob",placeholder:"lookingForAJob",typefield:"input",render:qe.a,checked:l,onClick:f})]},"lookingForAJob"),l&&Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:" My professional skills:"}),Object(r.jsx)(Je.a,{validate:Object(Qe.a)(Qe.c,Object(Qe.b)(30)),type:"text",name:"lookingForAJobDescription",placeholder:"lookingForAJobDescription",typefield:"textarea",render:qe.a})]},"lookingForAJobDescription"),Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:" Contacts:"})," ",Object.keys(i).map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:e}),":",Object(r.jsx)(Je.a,{name:"contacts.".concat(e),children:function(t){var n=t.input,s=t.meta;return Object(r.jsxs)("div",{children:[Object(r.jsx)("input",Object(b.a)(Object(b.a)({},n),{},{type:"text",placeholder:e})),(s.error||s.submitError)&&s.touched&&Object(r.jsx)("span",{children:s.error||s.submitError})]})}})]},e)}))]},"contacts")]})}})},it=function(e){var t=Object.entries(e.contacts).map((function(e){var t=Object(Ze.a)(e,2),n=t[0],s=t[1];return s?Object(r.jsxs)("div",{style:{marginLeft:"20px"},children:[" ",Object(r.jsx)("span",{children:Object(r.jsx)("b",{children:n+": "})}),Object(r.jsx)("a",{href:s,target:"_blank",children:s})]},n):null}));return Object(r.jsx)(r.Fragment,{children:t})},ot=function(e){var t=e.profile;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:" FullName:"})," ",t.fullName?t.fullName:"no name"]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:" About me:"})," ",t.aboutMe?t.aboutMe:null]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:" Looking for a job:"}),t.lookingForAJob?" yes":" no"]}),t.lookingForAJob&&Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:" My professional skills: "}),t.lookingForAJobDescription?t.lookingForAJobDescription:null]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:" Contacts:"}),"  ",Object(r.jsx)(it,{contacts:t.contacts})]})]})},ut=function(e){var t=Object(s.useState)(!1),n=Object(Ze.a)(t,2),a=n[0],c=n[1],i=Object(s.useState)(!1),o=Object(Ze.a)(i,2),u=o[0],l=o[1],d=Object(s.useState)(!1),j=Object(Ze.a)(d,2),p=j[0],b=j[1],f=u?"Cancel":"Edit";if(!e.profile)return Object(r.jsx)(et,{from:"ProfInfo"});var h=e.profile.photos.large||"https://storage.jewheart.com/content/users/avatars/2920/avatar_2920_500.jpg?1558626096",O=e.setUserStatus,g=e.status;return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:nt.a.descripBlock,children:[Object(r.jsxs)("div",{onMouseEnter:function(e){setTimeout((function(){c(!0)}),0)},onMouseLeave:function(e){setTimeout((function(){c(!1)}),0)},className:nt.a.test,children:[Object(r.jsx)("img",{src:h,alt:"avatar"}),e.isOwner&&a?Object(r.jsxs)("label",{className:nt.a.updateImage,children:[Object(r.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},className:nt.a.image_btn}),"Upload"]}):null]}),Object(r.jsx)(rt,{setUserStatus:O,status:g,isOwner:e.isOwner}),Object(r.jsxs)("div",{children:[e.isOwner&&Object(r.jsx)("button",{onClick:function(){l((function(e){return!e}))},children:f}),u?Object(r.jsx)(ct,{initialValues:e.profile,contacts:e.profile.contacts,isFetching:p,saveProfile:e.saveProfile,setEditModeData:l,setIsFetching:b}):Object(r.jsx)(ot,{profile:e.profile})]})]})})},lt=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(ut,{profile:e.profile,setUserStatus:e.setUserStatus,status:e.status,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),Object(r.jsx)(Ye,{addLike:e.addLike,addPost:e.addPost,posts:e.posts})]})},dt=n(14),jt=n(5),pt=n(80),bt=(n(215),function(e){Object(_e.a)(n,e);var t=Object(ke.a)(n);function n(){var e;Object(ve.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).refreshProfile=function(){var t=+e.props.match.params.userId;t||(t=e.props.loggedUserId),e.props.profile&&e.props.profile.userId===t||(e.props.getUserProfile(t),e.props.getUserStatus(t))},e}return Object(xe.a)(n,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){+this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(r.jsx)(lt,{isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,profile:this.props.profile,setUserStatus:this.props.setUserStatus,status:this.props.status,addLike:this.props.addLike,addPost:this.props.addPost,posts:this.props.posts,saveProfile:this.props.saveProfile})}}]),n}(s.PureComponent)),ft=Object(u.d)(Object(dt.b)((function(e){return{posts:e.profilePage.posts,profile:e.profilePage.profile,status:e.profilePage.status,loggedUserId:e.auth.userId}}),{addPost:function(e){return{type:I,postText:e}},addLike:function(e){return{type:S,post:e}},getUserProfile:L,getUserStatus:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e);case 3:r=t.sent,n(A(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0+"Get Status");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},setUserStatus:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x(e);case 3:0===t.sent.data.resultCode&&n(A(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0+"setUserStatus");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_(e);case 3:0===(r=t.sent).data.resultCode&&n((s=r.data.data.photos,{type:N,photos:s})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0+"PHOTO");case 10:case"end":return t.stop()}var s}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n,r){var s,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r().auth.userId,t.next=3,k(e);case 3:if(0!==(a=t.sent).data.resultCode){t.next=7;break}return n(L(s)),t.abrupt("return",a);case 7:return t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),jt.g,pt.a)(bt),ht=n(83),Ot=n(184),gt=n.n(Ot),mt=n(70),vt=n.n(mt),xt=function(e){var t=Object(s.useState)(1),n=Object(Ze.a)(t,2),a=n[0],c=n[1];return Object(r.jsx)("div",{children:Object(r.jsx)(gt.a,{activeClass:vt.a.active,activeLinkClass:vt.a.active,innerClass:vt.a.paginationBlock,itemClass:vt.a.li,activePage:a,itemsCountPerPage:10,totalItemsCount:e.allUsers,pageRangeDisplayed:15,onChange:function(t){c(t),e.getUsers(t,5)}})})},_t=n(88),kt=n(48),yt=n.n(kt),Pt=n(56),wt=function(e){var t=e.followingInProgress,n=e.userId,s=e.value,a=Object(Pt.a)(e,["followingInProgress","userId","value"]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("button",{disabled:t.some((function(e){return e===n})),onClick:function(){a.followUnfollow(n)},className:yt.a.followBtn,children:s})})},Et=function(e){var t=e.user,n=Object(Pt.a)(e,["user"]);return Object(r.jsxs)("div",{className:yt.a.userBlock,children:[Object(r.jsxs)("div",{className:yt.a.avatar,children:[Object(r.jsx)(Ue.b,{to:"profile/".concat(t.id),children:Object(r.jsx)(_t.a,{url:t.photos.large||"https://st2.depositphotos.com/2703645/5669/v/950/depositphotos_56695985-stock-illustration-male-avatar.jpg"})}),t.followed?Object(r.jsx)(wt,{followingInProgress:n.followingInProgress,followUnfollow:n.unFollow,userId:t.id,value:"Unfollow"}):Object(r.jsx)(wt,{followingInProgress:n.followingInProgress,followUnfollow:n.follow,userId:t.id,value:"Follow"})]}),Object(r.jsx)("div",{className:yt.a.userInfo,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:t.name}),Object(r.jsxs)("p",{children:[t.status||null,t.id]})]})})]})},St=function(e){return e.users.map((function(t){return Object(s.createElement)(Et,Object(b.a)(Object(b.a)({user:t},e),{},{key:t.id}))}))},It=n(186),Ut=function(e){return e.usersPage.users},Ct=function(e){return e.usersPage.followingInProgress},Ft=(Object(It.a)(Ut,(function(e){return e.filter((function(e){return!0}))})),function(e){Object(_e.a)(n,e);var t=Object(ke.a)(n);function n(e){var r;return Object(ve.a)(this,n),(r=t.call(this,e)).clickPage=r.clickPage.bind(Object(ht.a)(r)),r}return Object(xe.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.pageSize;0===this.props.users.length&&this.props.getUsersThunkCreator(1,e)}},{key:"clickPage",value:function(e){var t=+e.target.id,n=this.props.pageSize;this.props.getUsersThunkCreator(t,n),this.props.setCurrentPage(t)}},{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[this.props.isFetching?Object(r.jsx)(et,{from:"user"}):null,Object(r.jsx)(xt,{allUsers:this.props.allUsers,getUsers:this.props.getUsersThunkCreator}),Object(r.jsx)(St,{followingInProgress:this.props.followingInProgress,users:this.props.users,unFollow:this.props.unFollow,follow:this.props.follow})]})}}]),n}(a.a.Component)),Nt=Object(u.d)(Object(dt.b)((function(e){return{users:Ut(e),allUsers:e.usersPage.allUsers,pageSize:e.usersPage.pageSize,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:Ct(e)}}),{follow:function(e){var t=O;return function(n){ee(n,t,Z,e)}},unFollow:function(e){var t=g;return function(n){ee(n,t,Y,e)}},setCurrentPage:function(e){return{type:q,page:e}},getUsersThunkCreator:function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){var s;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(K(!0)),n.next=3,h(e,t);case 3:s=n.sent,r((c=s.items,{type:V,users:c})),r((a=s.totalCount,{type:J,count:a})),r(K(!1));case 7:case"end":return n.stop()}var a,c}),n)})));return function(e){return n.apply(this,arguments)}}()}}),pt.a)(Ft),Tt=n(187),At=n.n(Tt),Lt=function(){var e=Object(s.useState)(""),t=Object(Ze.a)(e,2),n=t[0],a=t[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("form",{action:"",children:Object(r.jsx)("input",{name:"search",className:At.a.form,type:"text",placeholder:"Search",onChange:function(e){var t=e.target.value;a(t)},value:n})})})},Rt=n(86),Dt=n.n(Rt),Mt=function(e){return Object(r.jsxs)("header",{className:Dt.a.header,children:[Object(r.jsx)("h1",{className:Dt.a.logo,children:"Note Face"}),Object(r.jsx)(Lt,{}),Object(r.jsx)("div",{className:Dt.a.loginBlock,children:e.isAuth?Object(r.jsxs)("div",{children:[e.login,"-",Object(r.jsx)("button",{onClick:e.logout,children:"Logout"})]}):Object(r.jsx)(Ue.b,{to:"/login",children:"Login"})})]})},Bt=function(e){Object(_e.a)(n,e);var t=Object(ke.a)(n);function n(){return Object(ve.a)(this,n),t.apply(this,arguments)}return Object(xe.a)(n,[{key:"render",value:function(){return Object(r.jsx)(Mt,Object(b.a)({},this.props))}}]),n}(a.a.Component),Gt=Object(dt.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{authMeThunk:ue,logout:function(){return function(e){w().then((function(t){0===t.data.resultCode&&e(ie(null,null,null,!1))}))}}})(Bt),Ht=n(188),zt=n.n(Ht),Vt=Object(dt.b)((function(e){return{captchaUrl:e.auth.captchaUrl,authMe:e.auth.isAuth,error:e.auth.error,isFetching:e.auth.isFetching}}),{login:function(e,t,n,r){return function(s){return P(e,t,n,r).then((function(e){0===e.data.resultCode?(s(oe(!1,"")),s(ue())):(10===e.data.resultCode&&s(le()),s(oe(!0,e.data.messages[0])))}))}},toggleIsFetching:function(e){return{type:se,fetching:e}}})((function(e){if(e.authMe)return Object(r.jsx)(jt.a,{to:"/profile"});var t=e.isFetching,n=e.toggleIsFetching,s=e.captchaUrl;if(t)return Object(r.jsx)(et,{});var a=e.error,c=a.isError,i=a.message;return Object(r.jsx)(Je.b,{onSubmit:function(t){n();var r=t.login,s=t.password,a=t.rememberMe,c=t.captcha;e.login(r,s,a,c).then((function(){return n()}))},children:function(e){var t=e.handleSubmit;return Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)("div",{children:Object(r.jsx)(Je.a,{validate:Object(Qe.a)(Qe.c,Object(Qe.b)(30)),type:"text",name:"login",placeholder:"Login",typefield:"input",render:qe.a})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(Je.a,{validate:Object(Qe.a)(Qe.c,Object(Qe.b)(30)),type:"password",name:"password",placeholder:"Password",typefield:"input",render:qe.a}),Object(r.jsxs)("div",{children:[Object(r.jsx)(Je.a,{type:"checkbox",name:"rememberMe",typefield:"input",render:qe.a})," remember me"]})]}),s&&Object(r.jsx)("img",{src:s,alt:"captcha"}),s&&Object(r.jsx)(Je.a,{validate:Object(Qe.a)(Qe.c,Object(Qe.b)(30)),type:"text",name:"captcha",placeholder:"Enter sumbols",typefield:"input",render:qe.a}),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{children:"Login"}),c&&Object(r.jsx)("span",{children:i})]})]})}})})),Jt=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{className:zt.a.title,children:"Login"}),Object(r.jsx)(Vt,{})]})},qt=function(e){return function(t){return Object(r.jsx)(s.Suspense,{fallback:Object(r.jsx)(et,{from:"HOC"}),children:Object(r.jsx)(e,Object(b.a)({},t))})}},Qt=(n(511),a.a.lazy((function(){return n.e(3).then(n.bind(null,518))}))),Xt=function(e){Object(_e.a)(n,e);var t=Object(ke.a)(n);function n(){var e;Object(ve.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhundledErrors=function(e){alert("Some error occured"),console.log(e)},e.usersContainer=function(){return Object(r.jsx)(Nt,{})},e.profileContainerBlock=function(){return Object(r.jsx)(ft,{})},e}return Object(xe.a)(n,[{key:"componentDidMount",value:function(){this.props.initializedApp(),window.addEventListener("unhandledrejection",this.catchAllUnhundledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhundledErrors)}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(Gt,{}),Object(r.jsx)(Te,{items:this.props.navbar}),Object(r.jsx)("div",{className:"app-wrapper-content",children:Object(r.jsxs)(jt.d,{children:[Object(r.jsx)(jt.b,{exact:!0,path:"/",children:Object(r.jsx)(jt.a,{to:"/profile"})}),Object(r.jsx)(jt.b,{exact:!0,path:"/profile/:userId?",render:this.profileContainerBlock}),Object(r.jsx)(jt.b,{path:"/dialogs/:userId?",render:qt(Qt)}),Object(r.jsx)(jt.b,{path:"/news",render:Ae}),Object(r.jsx)(jt.b,{path:"/music",render:ye}),Object(r.jsx)(jt.b,{path:"/settings",render:Le}),Object(r.jsx)(jt.b,{path:"/friends",render:Ee}),Object(r.jsx)(jt.b,{path:"/users",render:this.usersContainer}),Object(r.jsx)(jt.b,{path:"/login",render:Jt}),Object(r.jsx)(jt.b,{path:"*",render:function(){return Object(r.jsx)("div",{children:"404 PAGE NOT FOUND"})}})]})})]}):Object(r.jsx)(et,{from:"AppComponent"})}}]),n}(a.a.Component),Wt=Object(u.d)(Object(dt.b)((function(e){return{initialized:e.app.initialized}}),{initializedApp:function(){return function(e){return e(ue()).then((function(){return e({type:je})}))}}}),jt.g)(Xt);i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(Ue.a,{children:Object(r.jsx)(dt.a,{store:me,children:Object(r.jsx)(Wt,{navbar:me.getState().navbarPage})})})}),document.getElementById("root")),o()},69:function(e,t,n){e.exports={nav:"Navbar_nav__3c_MF",item:"Navbar_item__25rnZ",active_link:"Navbar_active_link__34v5X",fr:"Navbar_fr__1aLkl"}},70:function(e,t,n){e.exports={li:"Pagination_li__2TMoV",active:"Pagination_active__1reQW",paginationBlock:"Pagination_paginationBlock__myyYO"}},8:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var r=function(e){return e?void 0:"Required"},s=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}},a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}}},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(3),s=n(0),a=n(34),c=n(35),i=n(37),o=n(36),u=n(1),l=n.n(u),d=n(14),j=n(5),p=function(e){return{authMe:e.auth.isAuth}},b=function(e){var t=function(t){Object(i.a)(u,t);var n=Object(o.a)(u);function u(){return Object(a.a)(this,u),n.apply(this,arguments)}return Object(c.a)(u,[{key:"render",value:function(){return this.props.authMe?Object(s.jsx)(e,Object(r.a)({},this.props)):Object(s.jsx)(j.a,{to:"/login"})}}]),u}(l.a.Component);return Object(d.b)(p,{})(t)}},84:function(e,t,n){e.exports={post_area:"MyPosts_post_area__3etA_",post:"MyPosts_post__1kHsr",blockPost:"MyPosts_blockPost__37chQ",addPost:"MyPosts_addPost__2DFxt",textarea:"MyPosts_textarea__2tq8g"}},85:function(e,t,n){e.exports={formControl:"FormsControl_formControl__15b7K",error:"FormsControl_error__2BuRw",color:"FormsControl_color__1QqEq"}},86:function(e,t,n){e.exports={header:"Header_header__1TNvs",logo:"Header_logo__rXwVX",loginBlock:"Header_loginBlock__39MmL"}},88:function(e,t,n){"use strict";var r=n(0),s=(n(1),n(185)),a=n.n(s);t.a=function(e){return Object(r.jsx)("div",{className:a.a.avatar,children:Object(r.jsx)("img",{src:e.url,alt:""})})}}},[[512,1,2]]]);
//# sourceMappingURL=main.49ffec2e.chunk.js.map